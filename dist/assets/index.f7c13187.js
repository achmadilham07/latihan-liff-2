const Vr=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};Vr();function Ct(){if(localStorage.list_data&&localStorage.id_data){var e=JSON.parse(localStorage.getItem("list_data")),t="";if(e.length>0){t='<table class="table table-striped table-dark">',t+="<thead><th>ID</th><th>Nama</th><th>Tanggal</th><th>Agenda</th><th>Hapus Agenda</th><th>Lihat Agenda</th><th>Edit Agenda</th></thead> <tbody>";for(var n in e)t+="<tr>",t+="<td>"+e[n].id_data+" </td><td>"+e[n].nama+" </td><td>"+e[n].tanggal+" </td><td>"+e[n].agenda+` </td><td><a class="btn btn-danger btn-small" href="javascript:void(0)" onclick="hapusData('`+e[n].id_data+`')">Hapus</a></td><td><a class="btn btn-danger btn-small" href="javascript:void(0)" onclick="lihatData('`+e[n].id_data+`')">Lihat</a></td><td><a class="btn btn-warning btn-small" href="javascript:void(0)" onclick="editData('`+e[n].id_data+`')">Edit</a></td>`,t+="</tr>";t+="</tbody></table>"}else t="Catatan masih kosong nih";$("#list-catatan").html(t),$("#list-catatan").hide(),$("#list-catatan").fadeIn(100)}}function zr(e){if(localStorage.list_data&&localStorage.id_data){var t=JSON.parse(localStorage.getItem("list_data")),n=0;for(var r in t)t[r].id_data==e&&($("#eid_data").val(t[r].id_data),$("#enama").val(t[r].nama),$("#etanggal").val(t[r].tanggal),$("#eagenda").val(t[r].agenda),t.splice(n,1)),n++;De("edit-data")}}function Gr(e){if(localStorage.list_data&&localStorage.id_data){var t=JSON.parse(localStorage.getItem("list_data")),n=0;for(var r in t)t[r].id_data==e&&($("#lid_data").val(t[r].id_data),$("#lnama").val(t[r].nama),$("#ltanggal").val(t[r].tanggal),$("#lagenda").val(t[r].agenda),t.splice(n,1)),n++;De("lihat-data")}}function Kr(){liff.isInClient()?liff.sendMessages([{type:"text",text:"Catatan baru berhasil disimpan"}]).then(function(){alert("Catatan Tersimpan")}).catch(function(o){alert("Aduh kok error ya...")}):Fe();var e=$("#nama").val(),t=$("#tanggal").val(),n=$("#agenda").val(),r=0,i=[];if(localStorage.list_data&&localStorage.id_data)i=JSON.parse(localStorage.getItem("list_data")),r=parseInt(localStorage.getItem("id_data"));else{var i=[];r=0}return r++,i.push({id_data:r,nama:e,tanggal:t,agenda:n}),localStorage.setItem("list_data",JSON.stringify(i)),localStorage.setItem("id_data",r),document.getElementById("form-data").reset(),De("list-catatan"),!1}function Jr(){liff.isInClient()?liff.sendMessages([{type:"text",text:"Catatan yang diedit sudah tersimpan"}]).then(function(){alert("Catatan tersimpan")}).catch(function(r){alert("Aduh kok error ya...")}):Fe();var e=JSON.parse(localStorage.getItem("list_data")),t=$("#eid_data").val();for(var n in e)e[n].id_data==t&&(e[n].nama=$("#enama").val(),e[n].tanggal=$("#etanggal").val(),e[n].agenda=$("#eagenda").val());return localStorage.setItem("list_data",JSON.stringify(e)),document.getElementById("eform-data").reset(),De("list-catatan"),!1}function Xr(e){if(liff.isInClient()?liff.sendMessages([{type:"text",text:"Catatan sudah terhapus"}]).then(function(){alert("Catatan sudah dihapus")}).catch(function(i){alert("Aduh kok nggak bisa")}):Fe(),localStorage.list_data&&localStorage.id_data){var t=JSON.parse(localStorage.getItem("list_data")),n=0;for(var r in t)t[r].id_data==e&&t.splice(n,1),n++;localStorage.setItem("list_data",JSON.stringify(t)),Ct()}}function De(e){e=="list-catatan"?(Ct(),$("#tambah-catatan").hide(),$("#list-catatan").fadeIn(),$("#edit-data").hide(),$("#lihat-data").hide()):e=="tambah-catatan"?($("#tambah-catatan").fadeIn(),$("#list-catatan").hide(),$("#edit-data").hide(),$("#lihat-data").hide()):e=="edit-data"?($("#edit-data").fadeIn(),$("#tambah-catatan").hide(),$("#list-catatan").hide(),$("#lihat-data").hide()):e=="lihat-data"&&($("#lihat-data").fadeIn(),$("#edit-data").hide(),$("#tambah-catatan").hide(),$("#list-catatan").hide())}var Qr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Yr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function T(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}var wn={exports:{}},D=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof D!="undefined"&&D,W={searchParams:"URLSearchParams"in D,iterable:"Symbol"in D&&"iterator"in Symbol,blob:"FileReader"in D&&"Blob"in D&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in D,arrayBuffer:"ArrayBuffer"in D};function Zr(e){return e&&DataView.prototype.isPrototypeOf(e)}if(W.arrayBuffer)var ei=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ti=ArrayBuffer.isView||function(e){return e&&ei.indexOf(Object.prototype.toString.call(e))>-1};function Re(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function Ot(e){return typeof e!="string"&&(e=String(e)),e}function $t(e){var t={next:function(){var n=e.shift();return{done:n===void 0,value:n}}};return W.iterable&&(t[Symbol.iterator]=function(){return t}),t}function j(e){this.map={},e instanceof j?e.forEach(function(t,n){this.append(n,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}j.prototype.append=function(e,t){e=Re(e),t=Ot(t);var n=this.map[e];this.map[e]=n?n+", "+t:t};j.prototype.delete=function(e){delete this.map[Re(e)]};j.prototype.get=function(e){return e=Re(e),this.has(e)?this.map[e]:null};j.prototype.has=function(e){return this.map.hasOwnProperty(Re(e))};j.prototype.set=function(e,t){this.map[Re(e)]=Ot(t)};j.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)};j.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),$t(e)};j.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),$t(e)};j.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),$t(e)};W.iterable&&(j.prototype[Symbol.iterator]=j.prototype.entries);function st(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function yn(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function ni(e){var t=new FileReader,n=yn(t);return t.readAsArrayBuffer(e),n}function ri(e){var t=new FileReader,n=yn(t);return t.readAsText(e),n}function ii(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function Qt(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function _n(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:W.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:W.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:W.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():W.arrayBuffer&&W.blob&&Zr(e)?(this._bodyArrayBuffer=Qt(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):W.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||ti(e))?this._bodyArrayBuffer=Qt(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):W.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},W.blob&&(this.blob=function(){var e=st(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=st(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(ni)}),this.text=function(){var e=st(this);if(e)return e;if(this._bodyBlob)return ri(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(ii(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},W.formData&&(this.formData=function(){return this.text().then(si)}),this.json=function(){return this.text().then(JSON.parse)},this}var oi=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ai(e){var t=e.toUpperCase();return oi.indexOf(t)>-1?t:e}function le(e,t){if(!(this instanceof le))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var n=t.body;if(e instanceof le){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new j(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&e._bodyInit!=null&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new j(t.headers)),this.method=ai(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}le.prototype.clone=function(){return new le(this,{body:this._bodyInit})};function si(e){var t=new FormData;return e.trim().split("&").forEach(function(n){if(n){var r=n.split("="),i=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(o))}}),t}function ui(e){var t=new j,n=e.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var i=r.split(":"),o=i.shift().trim();if(o){var a=i.join(":").trim();t.append(o,a)}}),t}_n.call(le.prototype);function Z(e,t){if(!(this instanceof Z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new j(t.headers),this.url=t.url||"",this._initBody(e)}_n.call(Z.prototype);Z.prototype.clone=function(){return new Z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new j(this.headers),url:this.url})};Z.error=function(){var e=new Z(null,{status:0,statusText:""});return e.type="error",e};var ci=[301,302,303,307,308];Z.redirect=function(e,t){if(ci.indexOf(t)===-1)throw new RangeError("Invalid status code");return new Z(null,{status:t,headers:{location:e}})};var ue=D.DOMException;try{new ue}catch{ue=function(t,n){this.message=t,this.name=n;var r=Error(t);this.stack=r.stack},ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue}function Pt(e,t){return new Promise(function(n,r){var i=new le(e,t);if(i.signal&&i.signal.aborted)return r(new ue("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var u={status:o.status,statusText:o.statusText,headers:ui(o.getAllResponseHeaders()||"")};u.url="responseURL"in o?o.responseURL:u.headers.get("X-Request-URL");var c="response"in o?o.response:o.responseText;setTimeout(function(){n(new Z(c,u))},0)},o.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},o.onabort=function(){setTimeout(function(){r(new ue("Aborted","AbortError"))},0)};function s(u){try{return u===""&&D.location.href?D.location.href:u}catch{return u}}o.open(i.method,s(i.url),!0),i.credentials==="include"?o.withCredentials=!0:i.credentials==="omit"&&(o.withCredentials=!1),"responseType"in o&&(W.blob?o.responseType="blob":W.arrayBuffer&&i.headers.get("Content-Type")&&i.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(o.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof j)?Object.getOwnPropertyNames(t.headers).forEach(function(u){o.setRequestHeader(u,Ot(t.headers[u]))}):i.headers.forEach(function(u,c){o.setRequestHeader(c,u)}),i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){o.readyState===4&&i.signal.removeEventListener("abort",a)}),o.send(typeof i._bodyInit=="undefined"?null:i._bodyInit)})}Pt.polyfill=!0;D.fetch||(D.fetch=Pt,D.Headers=j,D.Request=le,D.Response=Z);var li=Object.freeze(Object.defineProperty({__proto__:null,Headers:j,Request:le,Response:Z,get DOMException(){return ue},fetch:Pt},Symbol.toStringTag,{value:"Module"})),fi=T(li);function In(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}function Sn(e){var t=this;return new t(function(n,r){if(!(e&&typeof e.length!="undefined"))return r(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(i.length===0)return n([]);var o=i.length;function a(u,c){if(c&&(typeof c=="object"||typeof c=="function")){var l=c.then;if(typeof l=="function"){l.call(c,function(d){a(u,d)},function(d){i[u]={status:"rejected",reason:d},--o===0&&n(i)});return}}i[u]={status:"fulfilled",value:c},--o===0&&n(i)}for(var s=0;s<i.length;s++)a(s,i[s])})}var di=setTimeout;function Tn(e){return Boolean(e&&typeof e.length!="undefined")}function hi(){}function pi(e,t){return function(){e.apply(t,arguments)}}function A(e){if(!(this instanceof A))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Cn(e,this)}function En(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,A._immediateFn(function(){var n=e._state===1?t.onFulfilled:t.onRejected;if(n===null){(e._state===1?dt:Ne)(t.promise,e._value);return}var r;try{r=n(e._value)}catch(i){Ne(t.promise,i);return}dt(t.promise,r)})}function dt(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var n=t.then;if(t instanceof A){e._state=3,e._value=t,ht(e);return}else if(typeof n=="function"){Cn(pi(n,t),e);return}}e._state=1,e._value=t,ht(e)}catch(r){Ne(e,r)}}function Ne(e,t){e._state=2,e._value=t,ht(e)}function ht(e){e._state===2&&e._deferreds.length===0&&A._immediateFn(function(){e._handled||A._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)En(e,e._deferreds[t]);e._deferreds=null}function vi(e,t,n){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=n}function Cn(e,t){var n=!1;try{e(function(r){n||(n=!0,dt(t,r))},function(r){n||(n=!0,Ne(t,r))})}catch(r){if(n)return;n=!0,Ne(t,r)}}A.prototype.catch=function(e){return this.then(null,e)};A.prototype.then=function(e,t){var n=new this.constructor(hi);return En(this,new vi(e,t,n)),n};A.prototype.finally=In;A.all=function(e){return new A(function(t,n){if(!Tn(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(r.length===0)return t([]);var i=r.length;function o(s,u){try{if(u&&(typeof u=="object"||typeof u=="function")){var c=u.then;if(typeof c=="function"){c.call(u,function(l){o(s,l)},n);return}}r[s]=u,--i===0&&t(r)}catch(l){n(l)}}for(var a=0;a<r.length;a++)o(a,r[a])})};A.allSettled=Sn;A.resolve=function(e){return e&&typeof e=="object"&&e.constructor===A?e:new A(function(t){t(e)})};A.reject=function(e){return new A(function(t,n){n(e)})};A.race=function(e){return new A(function(t,n){if(!Tn(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)A.resolve(e[r]).then(t,n)})};A._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){di(e,0)};A._unhandledRejectionFn=function(t){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var _e=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")}();typeof _e.Promise!="function"?_e.Promise=A:(_e.Promise.prototype.finally||(_e.Promise.prototype.finally=In),_e.Promise.allSettled||(_e.Promise.allSettled=Sn));var gi=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),mi=T(gi),pt=function(e,t){return pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},pt(e,t)};function bi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pt(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var O=function(){return O=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},O.apply(this,arguments)};function h(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(l){try{c(r.next(l))}catch(d){a(d)}}function u(l){try{c(r.throw(l))}catch(d){a(d)}}function c(l){l.done?o(l.value):i(l.value).then(s,u)}c((r=r.apply(e,t||[])).next())})}function p(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function rt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function ce(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(H(arguments[t]));return e}function wi(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var At,yi=new Promise(function(e){At=e}),_i=Object.freeze(Object.defineProperty({__proto__:null,get done(){return At},ready:yi},Symbol.toStringTag,{value:"Module"})),R="UNKNOWN",V="UNAUTHORIZED",L="INVALID_ARGUMENT",M="INIT_FAILED",Q="FORBIDDEN",ie="INVALID_CONFIG",pe="INVALID_ID_TOKEN",vt="CREATE_SUBWINDOW_FAILED",gt="EXCEPTION_IN_SUBWINDOW",On="liffEvent",ee="LIFF_STORE",$n="https://liff.line.me/",y={ACCESS_TOKEN:"accessToken",ID_TOKEN:"IDToken",DECODED_ID_TOKEN:"decodedIDToken",FEATURE_TOKEN:"featureToken",LOGIN_TMP:"loginTmp",CONFIG:"config",CONTEXT:"context",EXPIRES:"expires",RAW_CONTEXT:"rawContext",CLIENT_ID:"clientId",IS_SUBSEQUENT_LIFF_APP:"isSubsequentLiffApp",MST_CHALLENGE:"mstChallenge",MSIT:"msit",MST:"mst",MST_VERIFIER:"mstVerifier",APP_DATA:"appData"},Yt="isInClient",Pn=["context_token","feature_token","access_token","id_token","client_id","mst_verifier","mst_challenge","msit"],Ii=5,Si=["liff.ref.source","liff.ref.medium","liff.ref.campaign","liff.ref.term","liff.ref.content"],Ti="liff://subwindow",S={INIT:"init",SUBMIT:"submit",CANCEL:"cancel",CLOSE:"close",ERROR:"error"},Ei=100,An=100,xn="liff.subwindow",Ze="healthCheck",Ci=["profile","chat_message.write","openid","email"],ve;(function(e){e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR"})(ve||(ve={}));var Oi=function(){function e(t){t===void 0&&(t=ve.INFO),this.logLevel=t,this._debug=console.debug,this._info=console.info,this._warn=console.warn,this._error=console.error}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=ve.DEBUG&&(t.unshift("[DEBUG]"),this._debug.apply(this,ce(t)))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=ve.INFO&&(t.unshift("[INFO]"),this._info.apply(this,ce(t)))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=ve.WARN&&(t.unshift("[WARN]"),this._warn.apply(this,ce(t)))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=ve.ERROR&&(t.unshift("[ERROR]"),this._error.apply(this,ce(t)))},e}(),I=new Oi(Number("3"));function Zt(e){return window.atob(e.replace(/-/g,"+").replace(/_/g,"/"))}var ut={decode:Zt,encode:function(e){return window.btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},decodeUnicode:function(e){var t=Zt(e).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join("");return decodeURIComponent(t)}};function re(e,t){if(e===t)return 0;for(var n=e.split("."),r=t.split("."),i=Math.max(n.length,r.length),o=0;o<i;o++){n[o]||(n[o]="0"),r[o]||(r[o]="0");var a=parseInt(n[o])-parseInt(r[o]);if(a!==0)return a>0?1:-1}return 0}function en(e){var t=e.replace("#","").match(/.{2}/g)||[];if(t.length!==4)return I.warn("convertArgbToRgba: Received invalid ARGB color"),"";var n=function(r){var i=ge(r);return Math.round(i/255*100)/100}(t[0]);return"rgba("+ge(t[1])+", "+ge(t[2])+", "+ge(t[3])+", "+n+")"}function ge(e){return parseInt(e,16)}function tn(e){var t=e.replace("#","").match(/.{2}/g)||[];return t.length!==3?(I.warn("convertArgbToRgba: Received invalid hex color"),""):ge(t[0])+", "+ge(t[1])+", "+ge(t[2])}function nn(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}var xt={get:function(e){var t=new RegExp("(?:(?:^|.*;\\s*)"+e+"\\s*\\=\\s*([^;]*).*$)|^.*$");return document.cookie.replace(t,"$1")},set:function(e,t,n){var r=e+"="+t;if(n)for(var i in n)r+="; "+i+(n[i]?"="+n[i]:"");I.debug("set cookie",r),document.cookie=r},remove:function(e,t){var n=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT";if(t)for(var r in t)n+="; "+r+"="+t[r];document.cookie=n}},$i=new Set(["400","401","403","404","429","500"]),kn=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i}return bi(t,e),t}(Error);function f(e,t){return new kn(e,t||"")}function kt(e){var t=e.match(/([^-]+)-[^-]+/);return t&&t[1]}function Pi(e){var t="";return e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ").forEach(function(n){t+=String.fromCharCode(parseInt(n))}),window.btoa(t)}var Ai=new(function(){function e(){this.map={}}return e.prototype.clear=function(){this.map={}},e.prototype.getItem=function(t){var n=this.map[t];return n===void 0?null:n},e.prototype.setItem=function(t,n){this.map[t]=n},e.prototype.removeItem=function(t){delete this.map[t]},e.prototype.key=function(t){var n=Object.keys(this.map)[t];return n===void 0?null:n},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.map).length},enumerable:!1,configurable:!0}),e}()),B={parse:function(e){return e.replace(/^\?/,"").replace(/^#\/?/,"").split(/&+/).filter(function(t){return t.length>0}).reduce(function(t,n){var r=H(n.split("=").map(decodeURIComponent),2),i=r[0],o=r[1],a=t[i];return Array.isArray(a)?a.push(o):Object.prototype.hasOwnProperty.call(t,i)?t[i]=[a,o]:t[i]=o,t},{})},stringify:function(e){return Object.keys(e).map(function(t){var n=e[t],r=function(i){return i!==void 0?encodeURIComponent(t)+"="+encodeURIComponent(i):encodeURIComponent(t)};return Array.isArray(n)?n.map(function(i){return r(i)}).join("&"):r(n)}).join("&")}},rn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function xi(){return window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967296}function Te(e){for(var t="",n=0;n<e;n++)t+=rn[Math.floor(xi()*rn.length)];return t}function Ln(e){var t=new URL(e),n=t.hash.slice(1).split("&").filter(function(r){return!Pn.some(function(i){return r.includes(i+"=")})}).join("&");return t.hash=n,t.toString()}function ki(e){var t=new URL(e);return t.toString().replace(new RegExp(String.raw(on||(on=wi(["^",""],["^",""])),t.origin)),"")}var on,Li=function(e){var t=ki(Ln(e));window.history.replaceState(history.state,"",t)};function jn(e,t){if(!e)throw new Error("addParamsToUrl: invalid URL");var n=new URL(e);return Object.entries(t).forEach(function(r){var i=H(r,2),o=i[0],a=i[1];n.searchParams.set(o,a)}),n.toString()}function Mn(e){var t,n=e.match((t=$n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),new RegExp("^"+t+"(\\d+-\\w+)")));return n&&n[1]}function ji(e){var t=e.match(/^(https?:\/\/.*?)\//);return t&&t[1]||""}function Lt(e){return e===void 0&&(e=window.navigator.userAgent),/ipad/.test(e.toLowerCase())}function Mi(e){return e===void 0&&(e=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+/.test(e)}function Ni(e){return e===void 0&&(e=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+ LIFF/.test(e)}function Fi(e){return e===void 0&&(e=window.navigator.userAgent),/LIFF\/SubWindow/.test(e)}function Di(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=function(c){Object.keys(c).filter(function(l){return c[l]!==null&&c[l]!==void 0}).forEach(function(l){e[l]=c[l]})};try{for(var a=rt(r),s=a.next();!s.done;s=a.next()){var u=s.value;o(u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return e}var Pe=null;function _(){return Pe===null&&(Pe=Ni()||Mi()&&/[#|&]access_token=/.test(location.hash)||sessionStorage.getItem(ee+":"+Yt)==="1",sessionStorage.setItem(ee+":"+Yt,Pe?"1":"0")),!!Pe}function Ri(){Pe=null}var Bi=Object.freeze(Object.defineProperty({__proto__:null,_cleanupCachedIsInClient:Ri,isInClient:_},Symbol.toStringTag,{value:"Module"})),Nn={};function k(){return Nn}function Fn(e){Nn=e}function Dn(e,t){if(!t)throw f(ie,"liffId is necessary for liff.init()");var n=(_()?sessionStorage:localStorage).getItem(ee+":"+t+":"+e);try{return n===null?null:JSON.parse(n)}catch{return null}}function U(e){return Dn(e,k().liffId)}function z(e,t){var n=k().liffId;if(!n)throw f(ie,"liffId is necessary for liff.init()");(_()?sessionStorage:localStorage).setItem(ee+":"+n+":"+e,JSON.stringify(t))}function J(){return U(y.CONTEXT)}function it(e){z(y.CONTEXT,e)}function Ui(){return((J()||{}).d||{}).aId}function Wi(){return((J()||{}).d||{}).autoplay||!1}function qi(){return(J()||{}).profilePlus}function Rn(){return Boolean(U(y.IS_SUBSEQUENT_LIFF_APP))}function Bn(e){z(y.IS_SUBSEQUENT_LIFF_APP,e)}function Un(){return U(y.APP_DATA)}function et(e){z(y.APP_DATA,e)}function Wn(){return U(y.MST_VERIFIER)}function qn(e){z(y.MST_VERIFIER,e)}function Hn(){return U(y.MSIT)}function Vn(e){z(y.MSIT,e)}function xe(){return U(y.MST)}function zn(e){z(y.MST,e)}function jt(){return U(y.MST_CHALLENGE)}function Gn(e){z(y.MST_CHALLENGE,e)}function Kn(){return U(y.CLIENT_ID)}function Mt(e){z(y.CLIENT_ID,e)}function Jn(){return U(y.RAW_CONTEXT)}function Ce(){return U(y.FEATURE_TOKEN)}function mt(e){z(y.FEATURE_TOKEN,e)}function Nt(){return U(y.ID_TOKEN)}function Ft(e){z(y.ID_TOKEN,e)}function fe(){return U(y.ACCESS_TOKEN)}function ot(e){z(y.ACCESS_TOKEN,e)}function Dt(e){var t=k().liffId;if(!t)throw f(ie,"liffId is necessary for liff.init()");(_()?sessionStorage:localStorage).removeItem(ee+":"+t+":"+e)}function Rt(){return U(y.LOGIN_TMP)}function Xn(e){z(y.LOGIN_TMP,e)}function bt(){Dt(y.LOGIN_TMP)}function Qn(e){var t=k();xt.set(ee+":"+y.EXPIRES+":"+t.liffId,e.getTime(),{expires:e.toUTCString(),path:"/",secure:null})}function Yn(){var e=k();return xt.get(ee+":"+y.EXPIRES+":"+e.liffId)}function Zn(){var e=k();xt.remove(ee+":"+y.EXPIRES+":"+e.liffId,{path:"/"})}function Bt(){return U(y.DECODED_ID_TOKEN)}function Ut(e){z(y.DECODED_ID_TOKEN,e)}function er(){Object.keys(y).forEach(function(e){Dt(y[e])}),Zn()}var Hi=Object.freeze(Object.defineProperty({__proto__:null,clean:er,get:U,getAId:Ui,getAccessToken:fe,getAppData:Un,getByLiffId:Dn,getClientId:Kn,getConfig:k,getContext:J,getDecodedIDToken:Bt,getExpireTime:Yn,getFeatureToken:Ce,getIDToken:Nt,getIsSubsequentLiffApp:Rn,getIsVideoAutoPlay:Wi,getLoginTmp:Rt,getMSIT:Hn,getMST:xe,getMSTChallenge:jt,getMSTVerifier:Wn,getProfilePlus:qi,getRawContext:Jn,remove:Dt,removeExpireTime:Zn,removeLoginTmp:bt,set:z,setAccessToken:ot,setAppData:et,setClientId:Mt,setConfig:Fn,setContext:it,setDecodedIDToken:Ut,setExpireTime:Qn,setFeatureToken:mt,setIDToken:Ft,setIsSubsequentLiffApp:Bn,setLoginTmp:Xn,setMSIT:Vn,setMST:zn,setMSTChallenge:Gn,setMSTVerifier:qn},Symbol.toStringTag,{value:"Module"}));function K(){return!!fe()}var Vi=Object.freeze(Object.defineProperty({__proto__:null,isLoggedIn:K},Symbol.toStringTag,{value:"Module"})),Je;function Y(){if(!Je){var e=window.navigator.userAgent.toLowerCase();Je=/iphone|ipad|ipod/.test(e)?"ios":/android/.test(e)?"android":"web"}return Je}function zi(){Je=void 0}var Gi=Object.freeze(Object.defineProperty({__proto__:null,_cleanupCachedOS:zi,getOS:Y},Symbol.toStringTag,{value:"Module"}));function oe(){var e=navigator.userAgent.match(/Line\/\d+(\.\d+)*/i);return e?e[0].slice(5):null}var Ki=Object.freeze(Object.defineProperty({__proto__:null,getLineVersion:oe},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ji(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(l){o(l)}}function s(c){try{u(r.throw(c))}catch(l){o(l)}}function u(c){var l;c.done?i(c.value):(l=c.value,l instanceof n?l:new n(function(d){d(l)})).then(a,s)}u((r=r.apply(e,t||[])).next())})}function Xi(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||l[0]!==6&&l[0]!==2)){a=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(l[0]===6&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(d){l=[6,d],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([u,c])}}}function Qi(){var e;return Y()==="ios"?(e=oe())&&re(e,"9.19.0")<0?"https://static.line-scdn.net/liff/edge/2/ios-918-extensions.js":"https://static.line-scdn.net/liff/edge/2/ios-extensions.js":"https://static.line-scdn.net/liff/edge/2/non-ios-extensions.js"}function Yi(){return function(){return Ji(this,void 0,void 0,function(){return Xi(this,function(e){switch(e.label){case 0:return[3,2];case 1:return[2,e.sent().default];case 2:return[2,new Promise(function(t,n){var r=document.createElement("script"),i=Qi();r.onload=function(){var o=window.liffClientExtension;o?t(o):n(f(M,"Unable to load client features. (Extension is empty)"))},r.onerror=function(){n(f(M,"Unable to load client features."))},r.src=i,r.type="text/javascript",document.body.appendChild(r)})]}})})}()}function tr(){er()}var Zi=Object.freeze(Object.defineProperty({__proto__:null,logout:tr},Symbol.toStringTag,{value:"Module"})),eo=function(){function e(){}return e.prototype.invoke=function(){return Fi()},e}(),to=function(){function e(t){this.storage=t}return Object.defineProperty(e,"IN_SUB_WINDOW_KEY",{get:function(){return"inSubWindow"},enumerable:!1,configurable:!0}),e.prototype.invoke=function(){return!(!this.getInSubWindow()&&!this.getSubWindowIdentifier())||!!new URLSearchParams(window.location.search).has(xn)&&(this.setInSubWindow(!0),!0)},e.prototype.getInSubWindow=function(){var t=this.storage.getItem(ee+":"+this.getLiffId()+":"+e.IN_SUB_WINDOW_KEY);return t!==null&&JSON.parse(t)},e.prototype.getSubWindowIdentifier=function(){var t,n,r="liff.subwindow.identifier",i=new URLSearchParams(window.location.search);return i.get(r)||(t=r,(n=i.get("liff.state"))?new URLSearchParams(n).get(t):null)||null},e.prototype.setInSubWindow=function(t){this.storage.setItem(ee+":"+this.getLiffId()+":"+e.IN_SUB_WINDOW_KEY,String(t))},e.prototype.getLiffId=function(){var t=k().liffId;if(!t)throw f(ie,"liffId is necessary for liff.init()");return t},e}(),nr=function(){function e(){_()?this.impl=new eo:this.impl=new to(window.sessionStorage)}return Object.defineProperty(e.prototype,"name",{get:function(){return"isSubWindow"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return this.impl.invoke.bind(this.impl)},e}(),rr=new nr,we=rr.install(),no=Object.freeze(Object.defineProperty({__proto__:null,IsSubWindowModule:nr,isSubWindow:we,module:rr},Symbol.toStringTag,{value:"Module"})),ro=["subwindowOpen","shareTargetPicker","multipleLiffTransition","scanCode","scanCodeV2","getAdvertisingId","addToHomeScreen","bluetoothLeFunction","skipChannelVerificationScreen"];function Ae(e){var t,n=J();return(t=n==null?void 0:n.availability)===null||t===void 0?void 0:t[e]}function wt(e,t){var n=oe();return!!n&&!(t&&re(n,t)>0)&&re(n,e)>=0}function Oe(e){var t=Ae(e);if(!t)return!1;var n=t.permission,r=t.minVer,i=t.unsupportedFromVer;return!!n&&!!_()&&wt(r,i)}var io={shareTargetPicker:function(){if(!K())return!1;var e=Ae("shareTargetPicker");if(!e)return!1;var t=e.permission,n=e.minVer;if(!t)return!1;if(_()){var r=oe();return r!==null&&re(r,n)>=0}return!0},multipleLiffTransition:function(){var e=Ae("multipleLiffTransition");if(!e)return!1;var t=e.permission;return _()&&t},subwindowOpen:function(){var e=Ae("subwindowOpen");return!(!e||!e.permission)&&(!_()||wt(e.minVer,e.unsupportedFromVer))},scanCode:function(){return Oe("scanCode")},scanCodeV2:function(){if(!K())return!1;var e=Ae("scanCodeV2");return!(!e||!e.permission)&&(!_()||wt(e.minVer))},getAdvertisingId:function(){return Oe("getAdvertisingId")},addToHomeScreen:function(){return Oe("addToHomeScreen")},bluetoothLeFunction:function(){return Oe("bluetoothLeFunction")},skipChannelVerificationScreen:function(){return Oe("skipChannelVerificationScreen")}};function me(e){if(!ro.includes(e))throw f(L,"Unexpected API name.");var t=io[e];return!t||t()}var oo=Object.freeze(Object.defineProperty({__proto__:null,isApiAvailable:me},Symbol.toStringTag,{value:"Module"}));function ao(e){return h(this,void 0,void 0,function(){var t,n,r;return p(this,function(i){switch(i.label){case 0:if(!e.ok)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.json()];case 2:return[2,i.sent()];case 3:return i.sent(),[2,e];case 4:return t=String(e.status),n=$i.has(t)?t:R,[4,e.json().catch(function(){throw f(n,e.statusText)})];case 5:throw r=i.sent(),f(r.error||n,r.error_description||r.message)}})})}function ir(e){var t=function(n){if(n)return n;var r=fe();if(!r)throw f(V,"Need access_token for api call, Please login first");return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+r}}(e&&e.headers);return O(O({},e),{headers:t})}function N(e,t){var n;try{n=ir(t)}catch(r){return Promise.reject(r)}return fetch(e,n).then(ao)}function so(e,t){var n;try{n=ir(t)}catch(r){return Promise.reject(r)}return fetch(e,n)}function x(e){var t=e.subdomain;return"https://"+(t===void 0?"api":t)+".line.me/"+e.pathname}var uo={token:x({pathname:"oauth2/v2.1/token"}),certs:x({pathname:"oauth2/v2.1/certs"}),"openid-configuration":x({subdomain:"access",pathname:".well-known/openid-configuration"}),authorize:x({subdomain:"access",pathname:"liff/v1/authorize"}),profile:x({pathname:"v2/profile"}),message:x({pathname:"message/v3/share"}),messageOTT:x({pathname:"message/v3/multisend?type=ott"}),friendship:x({pathname:"friendship/v1/status"}),shareTargetPicker:x({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker"}),shareTargetPickerOtt:x({pathname:"liff/v2/apps"}),shareTargetPickerResult:x({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker/result"}),apps:x({pathname:"liff/v2/apps"}),subWindowGetMSIT:x({pathname:"liff/v2/sub/msit"}),subWindowGetMSTByMSIT:x({pathname:"liff/v2/sub/mst"}),subWindowSubscribe:x({subdomain:"liff",pathname:"liff/v2/sub/waitResult"}),subWindowPost:x({pathname:"liff/v2/sub/result"}),subWindowGetAppData:x({pathname:"liff/v2/sub/appData"}),subWindowGetOrigin:function(e){return x({pathname:"liff/v2/sub/"+e+"/origin"})},accessTokenVerify:x({pathname:"oauth2/v2.1/verify"}),unauthorizedPermissions:x({subdomain:"liff",pathname:"liff/v2/incrementalAgreement/unauthorizedPermissions"}),permanentLink:x({subdomain:"liff",pathname:"liff/v2/permanentLink"})};function P(e){return uo[e]}function or(e){return N(P("accessTokenVerify")+"?access_token="+encodeURIComponent(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})}var ar="liff.subwindow.identifier",yt="liff.subwindow.cryptokey",Xe=O(O({},S),{GET_DATA:"getData",SET_DATA:"setData",NOT_FOUND:"notFound",TEARDOWN:"teardown"}),tt={BROADCAST:"broadcast",COMMAND:"command"},ke={MAIN:"main",SUB:"sub"},sr=function(e){return h(void 0,void 0,void 0,function(){var t;return p(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,window.crypto.subtle.importKey("jwk",{kty:"oct",k:e,alg:"A128GCM",ext:!0},{name:"AES-GCM"},!1,["encrypt","decrypt"])];case 1:return[2,n.sent()];case 2:throw t=n.sent(),f(R,t);case 3:return[2]}})})},co=function(e,t,n){return h(void 0,void 0,void 0,function(){var r,i,o,a;return p(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),r=new TextEncoder().encode(e),[4,sr(t)];case 1:return i=s.sent(),[4,window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,new TextEncoder().encode(n))];case 2:return o=s.sent(),[2,btoa(new Uint8Array(o).reduce(function(u,c){return u+String.fromCharCode(c)},""))];case 3:throw a=s.sent(),f(R,a);case 4:return[2]}})})},lo=function(e,t,n){return h(void 0,void 0,void 0,function(){var r,i,o,a,s,u,c;return p(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),r=new TextEncoder().encode(e),[4,sr(t)];case 1:for(i=l.sent(),o=atob(n),a=new Uint8Array(o.length),s=0;s<o.length;s++)a[s]=o.charCodeAt(s);return[4,window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},i,a.buffer)];case 2:return u=l.sent(),[2,new TextDecoder().decode(new Uint8Array(u))];case 3:throw c=l.sent(),f(R,c);case 4:return[2]}})})},fo=function(e,t){return Le(e)===Le(t)},Le=function(e){return e.identifier+"-"+e.action+"-"+e.timestamp},ho=function(e){return Object.keys(S).map(function(t){return S[t]}).includes(e)?tt.BROADCAST:tt.COMMAND};function po(){var e=document.createElement("form");e.method="POST",e.action="$MESSAGE_HANDLER_URL";var t=document.createElement("input");t.type="hidden",t.name="identifier",t.value="$IDENTIFIER",e.appendChild(t),document.body.appendChild(e),e.submit()}var vo=function(e){var t=this;e===void 0&&(e=ke.MAIN),this.identification={identifier:"",cryptoKey:""},this.messageHandlerInstance=null,this.listeners=new Map,this.sentMessages=[],this.generateIdentification=function(){return h(t,void 0,void 0,function(){var n,r,i,o,a;return p(this,function(s){switch(s.label){case 0:return n=new URLSearchParams(window.location.search),r=function(u){var c=n.get("liff.state");return c?new URLSearchParams(c).get(u):null},i=this,a={identifier:this.windowType===ke.MAIN?Te(12):n.get("liff.subwindow.identifier")||r("liff.subwindow.identifier")||""},this.windowType!==ke.MAIN?[3,2]:[4,h(void 0,void 0,void 0,function(){var u,c,l;return p(this,function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),[4,window.crypto.subtle.generateKey({name:"AES-GCM",length:128},!0,["encrypt","decrypt"])];case 1:return u=d.sent(),[4,window.crypto.subtle.exportKey("jwk",u)];case 2:if(!(c=d.sent())||!c.k)throw f(R,"failed to generate key");return[2,c.k];case 3:throw l=d.sent(),f(R,l);case 4:return[2]}})})];case 1:return o=s.sent(),[3,3];case 2:o=n.get(yt)||r(yt)||"",s.label=3;case 3:return i.identification=(a.cryptoKey=o,a),[2]}})})},this.hasIdentification=function(){var n=t.identification,r=n.identifier,i=n.cryptoKey;return typeof r=="string"&&typeof i=="string"&&r.length>0&&i.length>0},this.isReady=function(){return t.hasIdentification()&&!!t.messageHandlerInstance},this.setup=function(){return h(t,void 0,void 0,function(){var n,r,i,o,a,s=this;return p(this,function(u){switch(u.label){case 0:return this.messageHandlerInstance?[2]:[4,this.generateIdentification()];case 1:if(u.sent(),!(n=this.identification.identifier))return[2];if(r=/^[a-zA-Z0-9]+$/gm,!n.match(r))throw f(R,"Invalid identifier");return(i=document.createElement("iframe")).style.display="none",i.src="about:blank",document.body.appendChild(i),(a=i==null?void 0:i.contentWindow)===null||a===void 0||a.window.eval("("+po.toString().replace("$MESSAGE_HANDLER_URL","https://liff-subwindow.line.me/liff/v2/sub/messageHandler").replace("$IDENTIFIER",n.split("'")[0])+")()"),o="iframe-"+n+"-ready",[4,new Promise(function(c){var l=function(d){d.data[o]&&(s.messageHandlerInstance=i,window.addEventListener("message",s.proxyToListeners),c(),document.removeEventListener("message",l))};window.addEventListener("message",l)})];case 2:return[2,u.sent()]}})})},this.teardown=function(){return h(t,void 0,void 0,function(){var n,r;return p(this,function(i){switch(i.label){case 0:return this.isReady()?[4,this.send({eventName:Xe.TEARDOWN})]:[3,2];case 1:i.sent(),window.removeEventListener("message",this.proxyToListeners),this.listeners.clear(),(r=(n=this.messageHandlerInstance)===null||n===void 0?void 0:n.parentNode)===null||r===void 0||r.removeChild(this.messageHandlerInstance),this.messageHandlerInstance=null,i.label=2;case 2:return[2]}})})},this.listen=function(n){t.listeners.set(n,n)},this.listenRepliedEvent=function(n,r){var i=function(o){o.replyTarget&&fo(o.replyTarget,n)&&(r(o),t.listeners.delete(i))};t.listeners.set(i,i)},this.send=function(n){return h(t,void 0,void 0,function(){var r,i,o,a,s=this;return p(this,function(u){switch(u.label){case 0:if(!this.isReady())throw f("message bus is not ready to send message");return i={action:ho(n.eventName),identifier:this.identification.identifier||"",timestamp:new Date().getTime()},[4,this.getEncryptedContext(n)];case 1:return i.context=u.sent(),r=i,(a=(o=this.messageHandlerInstance)===null||o===void 0?void 0:o.contentWindow)===null||a===void 0||a.postMessage({messageBusEvent:r},"*"),this.sentMessages.push(Le(r)),[4,new Promise(function(c){s.listenRepliedEvent(r,function(l){c(l.context)})})];case 2:return[2,u.sent()]}})})},this.reply=function(n,r){return h(t,void 0,void 0,function(){var i,o,a,s;return p(this,function(u){switch(u.label){case 0:if(!this.isReady())throw f("message bus is not ready to send message");if(!n.identifier||!n.timestamp)throw f(R,"target message is not valid");return o={action:tt.BROADCAST},[4,this.getEncryptedContext(r)];case 1:return o.context=u.sent(),o.identifier=this.identification.identifier||"",o.timestamp=new Date().getTime(),o.replyTarget={action:n.action,identifier:n.identifier,timestamp:n.timestamp},i=o,(s=(a=this.messageHandlerInstance)===null||a===void 0?void 0:a.contentWindow)===null||s===void 0||s.postMessage({messageBusEvent:i},"*"),this.sentMessages.push(Le(i)),[2]}})})},this.setData=function(n,r){n===void 0&&(n="appData"),t.send({eventName:Xe.SET_DATA,key:n,data:r})},this.getData=function(n){return n===void 0&&(n="appData"),h(t,void 0,void 0,function(){return p(this,function(r){switch(r.label){case 0:return[4,this.send({eventName:Xe.GET_DATA,key:n})];case 1:return[2,r.sent()]}})})},this.proxyToListeners=function(n){return h(t,void 0,void 0,function(){var r,i=this;return p(this,function(o){return(r=n.data.messageBusEvent)?(this.sentMessages.includes(Le(r))||r.identifier!==this.identification.identifier||r.action!==tt.BROADCAST&&!r.replyTarget||this.listeners.forEach(function(a){return h(i,void 0,void 0,function(){var s,u,c;return p(this,function(l){switch(l.label){case 0:return s=a,u=[O({},r)],c={},[4,this.getDecryptedContext(r.context)];case 1:return s.apply(void 0,[O.apply(void 0,u.concat([(c.context=l.sent(),c)]))]),[2]}})})}),[2]):[2]})})},this.getEncryptedContext=function(n){return h(t,void 0,void 0,function(){var r,i,o,a,s,u,c;return p(this,function(l){switch(l.label){case 0:return r=this.identification,i=r.identifier,o=r.cryptoKey,s=(a=JSON).stringify,c={eventName:n.eventName,key:n.key?n.key:void 0},n.data?[4,co(i,o,JSON.stringify(n.data))]:[3,2];case 1:return u=l.sent(),[3,3];case 2:u=void 0,l.label=3;case 3:return[2,s.apply(a,[(c.data=u,c)])]}})})},this.getDecryptedContext=function(n){return h(t,void 0,void 0,function(){var r,i,o,a,s,u,c,l;return p(this,function(d){switch(d.label){case 0:return r=this.identification,i=r.identifier,o=r.cryptoKey,(a=JSON.parse(n)).data&&typeof a.data=="string"?(l=(c=JSON).parse,[4,lo(i,o,a.data)]):[3,2];case 1:return u=l.apply(c,[d.sent()]),[3,3];case 2:u=void 0,d.label=3;case 3:return s=u,[2,O(O({},a),{data:s})]}})})},this.windowType=e};function ur(e){return new CustomEvent(On,{detail:e})}(function(){if(typeof window.CustomEvent!="function"){let t=function(n,r){var i=r||{},o=i.bubbles,a=o!==void 0&&o,s=i.cancelable,u=s!==void 0&&s,c=i.detail,l=c===void 0?void 0:c,d=document.createEvent("CustomEvent");return d.initCustomEvent(n,a,u,l),d};var e=t;t.prototype=Event.prototype,window.CustomEvent=t}})();var Ie={},an=!1;function Wt(e,t){an||(an=!0,window.addEventListener(On,function(n){n&&n.detail&&n.detail.type&&Ie[n.detail.type]&&Ie[n.detail.type].forEach(function(r){return r(n)})})),Ie[e]?Ie[e].push(t):Ie[e]=[t]}function qt(e,t){var n=Ie[e];if(n&&Array.isArray(n)){var r=n.indexOf(t);r>=0&&n.splice(r,1)}}function go(e){var t={};try{t=JSON.parse(e)}catch(r){throw f(L,r.message)}var n=ur(t);I.debug("[client dispatchEvent to js]",{type:n.type,detail:n.detail}),window.dispatchEvent(n)}function cr(e,t,n){t===void 0&&(t={}),n===void 0&&(n="");var r=Ce();if(!r)throw f(Q,"Invalid featureToken for client features");if(!window._liff||!window._liff.postMessage)throw f(L,"postMessage is not available from client");I.debug("[js postMessage to client]",e,n,t),window._liff.postMessage(e,r,n,JSON.stringify(t))}function Ht(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={once:!0}),Ce()?(n=O({callbackId:Te(12),once:!0},n),new Promise(function(r,i){var o=function(a){if(a&&a.detail){var s=a.detail.callbackId===n.callbackId,u=typeof a.detail.callbackId!="string";(s||u)&&(n.once&&qt(e,o),I.debug("[callback detail]",a.detail),a.detail.error?i(a.detail.error):a.detail.data?r(a.detail.data):i(a.detail))}i()};Wt(e,o),cr(e,t,n.callbackId)})):Promise.reject(f(Q,"Invalid featureToken for client features"))}var mo=Object.freeze(Object.defineProperty({__proto__:null,addListener:Wt,call:Ht,createEvent:ur,dispatch:go,postMessage:cr,removeListener:qt},Symbol.toStringTag,{value:"Module"}));function je(){var e=oe();e!==null&&(Y()==="ios"&&re(e,"9.19")>=0||Y()==="android"&&re(e,"11.6.0")>=0)?location.href="liff://close":window._liff&&window._liff.postMessage?e!==null&&re(e,"10.15.0")>=0?Y()==="ios"?window._liff.postMessage("closeWindow",""):window._liff.postMessage("closeWindow","","",""):Ht("closeWindow"):window.close()}var bo=Object.freeze(Object.defineProperty({__proto__:null,closeWindow:je},Symbol.toStringTag,{value:"Module"}));function lr(e){var t=P("subWindowGetOrigin");return N(t(e))}var se={};function Ee(e,t){e&&se[e]&&se[e].forEach(function(n){n(t)})}var fr,dr,hr,pr,_t,vr=function(){function e(t){this.storage=t}return e.prototype.getItem=function(t){return this.storage.getItem(this.getKeyPrefix()+":"+t)},e.prototype.setItem=function(t,n){this.storage.setItem(this.getKeyPrefix()+":"+t,n)},e.prototype.removeItem=function(t){this.storage.removeItem(this.getKeyPrefix()+":"+t)},e.prototype.clear=function(){this.storage.clear()},e.prototype.getKeyPrefix=function(){return ee+":"+this.getLiffId()},e.prototype.getLiffId=function(){var t=k().liffId;if(!t)throw f(ie,"liffId is necessary for liff.init()");return t},e}(),gr=new vr(Ai);function nt(){var e=gr.getItem("subWindowStatusUpdated");return e!==null&&JSON.parse(e)}function be(e){gr.setItem("subWindowStatusUpdated",String(e))}function It(e){fr=e}function Me(){return fr}function St(){return hr}function sn(){return pr}function Vt(e){return e===void 0&&(e=ke.MAIN),h(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return[4,(_t=new vo(e)).setup()];case 1:return t.sent(),[2,_t]}})})}function ye(){return _t}var mr=new vr(window.sessionStorage);function br(e){mr.setItem("mainWindowOrigin",e)}function zt(){return mr.getItem("mainWindowOrigin")}function un(e,t){return t===void 0&&(t={}),h(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return p(this,function(l){switch(l.label){case 0:if((n=ye())!=null&&n.isReady())return[3,5];if(r=JSON.stringify(t),i=k().liffId,o=zt(),!window.opener||!o||!i)throw f(gt);a=!1,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,lr(i)];case 2:return s=l.sent(),a=s.subwindowCommonModule,[3,4];case 3:throw u=l.sent(),I.debug(u),f(gt);case 4:return c=a?o:location.origin,[2,new Promise(function(d){window.addEventListener("message",function g(v){(function(m){return!!(m.data&&typeof m.data.type=="string"&&[S.SUBMIT,S.CANCEL].includes(m.data.type))})(v)&&(window.removeEventListener("message",g),d({status:e,result:r}))}),window.opener.postMessage({status:e,result:r},c)})];case 5:return n.send({eventName:e,data:t}),[4,new Promise(function(d){setTimeout(d,500)})];case 6:return l.sent(),[2,{status:e,result:JSON.stringify(t)}]}})})}function Gt(e){var t,n=sn();if(e.origin===n){var r=e.data;if(r){var i,o=r.status,a=r.result;try{i=JSON.parse(a||"{}")}catch{i={}}switch(o){case Ze:window.clearInterval(St()),Kt();break;case S.CANCEL:case S.SUBMIT:be(!0),window.clearInterval(St()),window.removeEventListener("message",Gt),Ee(o,i),(t=Me())===null||t===void 0||t.postMessage({type:o},sn());break;default:I.debug("unexpected message")}}}}var wo=function(e){return h(void 0,void 0,void 0,function(){var t,n,r,i;return p(this,function(o){if(nt())return[2];switch(t=e.context,n=t.eventName,r=t.data,i=ye(),n){case S.INIT:yr(!r.hasOpener);break;case S.CANCEL:case S.SUBMIT:be(!0),Ee(n,r),i==null||i.reply(e,{eventName:n});break;case S.CLOSE:nt()===!1&&(be(!0),Ee(S.CLOSE,{})),Kt()}return[2]})})};function wr(){window.clearInterval(dr),window.clearInterval(St()),window.removeEventListener("message",Gt)}function yr(e){if(e===void 0&&(e=!1),wr(),be(!1),e){var t=Me();t&&(t.close(),It(null))}}function Kt(){return h(this,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:return(e=ye())?[4,e.teardown()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}function yo(e){return h(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c,l;return p(this,function(d){switch(d.label){case 0:return(t=Mn(e.url))?(yr(!0),[4,Kt()]):[2,Promise.reject(f(L,"params.url must be liff url"))];case 1:return d.sent(),n=e.url,r=e.appData,(i=new URL(n)).searchParams.append(xn,"true"),[4,Vt()];case 2:return o=d.sent(),i.searchParams.append(ar,o.identification.identifier),i.searchParams.append(yt,o.identification.cryptoKey),i.hostname=function(v){var m=H(v.split(".")),w=m[0],b=m.slice(1);return ce([w+"-ext"],b).join(".")}(i.hostname),a=i.toString(),It(Y()!=="ios"||Lt()?window.open("","liffsubwindow","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):window.open()),[4,lr(t)];case 3:if(s=d.sent(),u=s.origin,c=s.subwindowCommonModule,!(l=Me()))throw f(vt);return c?(function(v){pr=v}(u),o.listen(wo),o.setData("appData",r),window.addEventListener("message",Gt),l.location.href=a,g=function(v,m){var w=Me(),b={type:Ze};return m&&(b.message=JSON.stringify(m)),window.setInterval(function(){w==null||w.postMessage(b,v)},An)}(u,r),hr=g,function(v){dr=v}(window.setInterval(function(){var v=Me();v&&v.closed&&(wr(),It(null),nt()===!1&&(be(!0),Ee(S.CLOSE,{})))},Ei)),[2]):(l.close(),[2])}var g})})}function Qe(e){return h(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c,l,d;return p(this,function(g){switch(g.label){case 0:t=e.msit,n=e.mstChallenge,r=e.onSuccess,i=e.onError,o=e.reconnectCount,a=o===void 0?0:o,g.label=1;case 1:return g.trys.push([1,3,,6]),[4,so(P("subWindowSubscribe"),{method:"POST",body:JSON.stringify({msit:t,mstChallenge:n})})];case 2:return s=g.sent(),[3,6];case 3:return g.sent(),[4,cn()];case 4:return g.sent(),[4,ct(Qe,{msit:t,mstChallenge:n,onSuccess:r,onError:i,reconnectCount:a+=1})];case 5:return g.sent(),[2];case 6:return s.status>=500?[4,cn()]:[3,9];case 7:return g.sent(),[4,ct(Qe,{msit:t,mstChallenge:n,onSuccess:r,onError:i,reconnectCount:a+=1})];case 8:return g.sent(),[3,20];case 9:return s.status>=400&&500>s.status?[4,ln(s)]:[3,11];case 10:return(c=g.sent())?(u=c.errorDetail,i(f(L,u))):i(f(R,"Some error happened in the server")),[3,20];case 11:return s.status!==200?[3,19]:[4,ln(s)];case 12:return(c=g.sent())?[3,13]:(i(f(R,"Some error happened in the server")),[3,18]);case 13:switch(l=c.status,d=c.result,l){case S.ERROR:return[3,14];case S.CLOSE:case S.CANCEL:case S.SUBMIT:return[3,16]}return[3,17];case 14:return[4,ct(Qe,{msit:t,mstChallenge:n,onSuccess:r,onError:i,reconnectCount:a})];case 15:return g.sent(),[3,18];case 16:return r(l,d),[3,18];case 17:i(f(R,"Some error happened in the server")),g.label=18;case 18:return[3,20];case 19:i(f(R,"Some error happened in the server")),g.label=20;case 20:return[2]}})})}function cn(){return new Promise(function(e){return setTimeout(e,1e3)})}function ln(e){return h(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e.json()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,null];case 3:return[2]}})})}function ct(e,t){return h(this,void 0,void 0,function(){return p(this,function(n){switch(n.label){case 0:return t.reconnectCount>=10?(t.onError(f(R,"Failed to connect")),[3,3]):[3,1];case 1:return[4,e(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function _o(e){var t={};return Object.keys(e).forEach(function(n){n==="closeButtonColor"?e[n]==="white"?t[n]="#ffffff":t[n]="#000000":t[n]=e[n]}),t}var Io={height:"full",closeButtonPosition:"right",closeButtonColor:"black",closeButtonLabel:""};function So(e){var t=e.appData,n=e.native,r=k().liffId,i=jt(),o=Mn(e.url);if(!r)return Promise.reject(f(V,"liffId is invalid"));if(!i)return Promise.reject(f(V,"mst_challenge is invalid"));if(!o)return Promise.reject(f(L,"params.url must be liff url"));var a=Object.assign({},Io,n);return function(s){var u=s.mainLiffId,c=s.subLiffId,l=s.mstChallenge,d=s.appData,g=s.view;return u&&l?N(P("subWindowGetMSIT"),{method:"POST",body:JSON.stringify({mainLiffId:u,subLiffId:c,mstChallenge:l,appData:d,view:g})}):Promise.reject(f(L,"no proper argument"))}({mainLiffId:r,subLiffId:o,mstChallenge:i,appData:t,view:_o(a)}).then(function(s){var u=s.msit;Qe({msit:u,mstChallenge:i,onSuccess:function(c,l){Ee(c,l)},onError:function(c){Ee(S.ERROR,c)}}),function(c,l){var d=c.url,g=new URLSearchParams;g.set("msit",l),location.href=Ti+"?url="+encodeURIComponent(d)+"&"+g.toString()}(e,u)})}function ze(){if(!we())throw f(V,"this api can be only called in child window")}function lt(e){if(!e.mst||!e.status)return Promise.reject(f(L,"no proper argument"));var t=JSON.stringify(e);return N(P("subWindowPost"),{method:"POST",body:t})}function _r(e){var t=e.msit,n=e.mstVerifier;return t&&n?N(P("subWindowGetMSTByMSIT"),{method:"POST",body:JSON.stringify({msit:t,mstVerifier:n})}):Promise.reject(f(L,"no proper argument"))}function Ir(e){var t=e.mst;return t?N(P("subWindowGetAppData"),{method:"POST",body:JSON.stringify({mst:t})}):Promise.reject(f(L,"no proper argument"))}var G={on:function(e,t){se[e]||(se[e]=[]),se[e].push(t)},off:function(e,t){if(se[e]){var n=se[e].indexOf(t);n>=0&&se[e].splice(n,1)}},open:function(e){if(!me("subwindowOpen"))throw f(Q,"No permission for liff.subWindow.open()");return function(){if(we())throw f(V,"this api can be only called in parent window")}(),_()?So(e):yo(e)},cancel:function(e){return e===void 0&&(e={}),ze(),_()?function(t){return t===void 0&&(t={}),h(this,void 0,void 0,function(){var n,r;return p(this,function(i){switch(i.label){case 0:return(n=xe())?[4,lt({mst:n,status:S.CANCEL,result:t})]:[2,Promise.reject(f(V,"mst is invalid"))];case 1:return r=i.sent(),be(!0),[2,r]}})})}(e):function(t){return t===void 0&&(t={}),un(S.CANCEL,t)}(e)},submit:function(e){return e===void 0&&(e={}),ze(),_()?function(t){return t===void 0&&(t={}),h(this,void 0,void 0,function(){var n,r;return p(this,function(i){switch(i.label){case 0:return(n=xe())?[4,lt({mst:n,status:S.SUBMIT,result:t})]:[2,Promise.reject(f(V,"mst is invalid"))];case 1:return r=i.sent(),be(!0),[2,r]}})})}(e):function(t){return t===void 0&&(t={}),un(S.SUBMIT,t)}(e)},close:function(){return ze(),_()?function(){return h(this,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:return nt()!==!1?[3,2]:(e=xe())?[4,lt({mst:e,status:S.CLOSE,result:{}})]:[2,Promise.reject(f(V,"mst is invalid"))];case 1:t.sent(),t.label=2;case 2:return je(),[2]}})})}():function(){return h(this,void 0,void 0,function(){var e;return p(this,function(t){return(e=ye())!=null&&e.isReady()?(e.send({eventName:S.CLOSE}),[2,new Promise(function(n){setTimeout(function(){je(),n()},An)})]):(je(),[2,Promise.resolve()])})})}()},getAppData:function(){return ze(),function(){var e,t=Un();try{e=t?JSON.parse(t):{}}catch{e={}}return Promise.resolve(e)}()}},To=Object.freeze(Object.defineProperty({__proto__:null,getAppData:Ir,getMSTByMSIT:_r,getMainWindowOrigin:zt,getMessageBus:ye,initMessageBus:Vt,setMainWindowOrigin:br,subWindow:G},Symbol.toStringTag,{value:"Module"})),Eo=function(){var e=this;this.type="sync",this.fns=new Set,this.on=function(t){e.fns.add(t)},this.call=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{for(var o=rt(e.fns),a=o.next();!a.done;a=o.next()){var s=a.value;s.apply(void 0,ce(r))}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}},$e=function(){var e=this;this.type="async",this.fns=new Set,this.on=function(t){e.fns.add(t)},this.call=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return h(e,void 0,void 0,function(){var r,i,o,a,s,u;return p(this,function(c){switch(c.label){case 0:r=[];try{for(i=rt(this.fns),o=i.next();!o.done;o=i.next())a=o.value,r.push(a.apply(void 0,ce(t)))}catch(l){s={error:l}}finally{try{o&&!o.done&&(u=i.return)&&u.call(i)}finally{if(s)throw s.error}}return[4,Promise.all(r)];case 1:return c.sent(),[2]}})})}},fn={iconColor:"#111111",statusBarColor:"BLACK",titleTextColor:"#111111",titleSubtextColor:"#B7B7B7",titleButtonColor:"#111111",titleBackgroundColor:"#FFFFFF",progressBarColor:"#06C755",progressBackgroundColor:"#FFFFFF",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#FFFFFF",baseTextColor:"#000000",lightButtonBorderColor:"rgba(0, 0, 0, 0.15)"},dn={iconColor:"#FFFFFF",statusBarColor:"WHITE",titleTextColor:"#FFFFFF",titleSubtextColor:"#949494",titleButtonColor:"#FFFFFF",titleBackgroundColor:"#111111",progressBarColor:"#06C755",progressBackgroundColor:"#111111",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#000000",baseTextColor:"#FFFFFF",lightButtonBorderColor:"rgba(255, 255, 255, 0.5)"};function Co(){var e;F("color-scheme",(((e=J())==null?void 0:e.menuColorSetting)||{adaptableColorSchemes:["light"]}).adaptableColorSchemes.join(" "));var t=window.matchMedia("(prefers-color-scheme: dark)");ft({matches:t==null?void 0:t.matches,media:t==null?void 0:t.media}),t.addEventListener?t.addEventListener("change",ft):t.addListener&&t.addListener(ft)}function ft(e){var t=J(),n=(t==null?void 0:t.menuColorSetting)||{adaptableColorSchemes:["light"],lightModeColor:fn,darkModeColor:dn},r=n.adaptableColorSchemes,i=n.lightModeColor,o=n.darkModeColor,a=r.includes("dark");e.matches&&a?hn(O(O({},dn),o)):hn(O(O({},fn),i))}function hn(e){var t=e.iconColor,n=e.statusBarColor,r=e.titleTextColor,i=e.titleSubtextColor,o=e.titleButtonColor,a=e.titleBackgroundColor,s=e.progressBarColor,u=e.progressBackgroundColor,c=e.titleButtonAreaBackgroundColor,l=e.titleButtonAreaBorderColor,d=e.baseBackgroundColor,g=e.baseTextColor,v=e.lightButtonBorderColor;F("--liff-base-background-color",d),F("--liff-base-text-color",g),F("--liff-base-background-rgb-color",tn(d)),F("--liff-base-text-rgb-color",tn(g)),F("--liff-light-button-border-color",v),F("--liff-title-text-color",r),F("--liff-title-background-color",a),F("--liff-title-button-color",o),F("--liff-icon-color",t),F("--liff-status-bar-color",n),F("--liff-title-subtext-color",i),F("--liff-progress-bar-color",s),F("--liff-progress-background-color",u),F("--liff-title-button-area-background-color",en(c)),F("--liff-title-button-area-border-color",en(l))}function F(e,t){document.documentElement.style.setProperty(e,t)}function Oo(e){return h(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return[4,Yi()];case 1:return t.sent().install(e),[2]}})})}function $o(){return h(this,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:return[4,N(P("certs"))];case 1:return[2,e.sent()]}})})}function Po(e,t,n){return h(this,void 0,void 0,function(){var r;return p(this,function(i){switch(i.label){case 0:return[4,crypto.subtle.importKey("jwk",e,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"])];case 1:return r=i.sent(),[4,crypto.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},r,n,t)];case 2:return[2,i.sent()]}})})}function Sr(e,t){return h(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,d,g,v,m,w,b,C;return p(this,function(E){switch(E.label){case 0:return n=e.split("."),r=H(n,3),i=r[0],o=r[1],a=r[2],s=JSON.parse(ut.decode(i)),u=JSON.parse(ut.decodeUnicode(o)),c=nn(ut.decode(a)),l=nn(i+"."+o),[4,$o()];case 1:if(d=E.sent(),!(g=d.keys.find(function(X){return X.kid===s.kid})))return[3,6];if(delete g.alg,s.alg!=="ES256")throw f(pe,'Invalid "alg" value in ID_TOKEN');v=void 0,E.label=2;case 2:return E.trys.push([2,4,,5]),[4,Po(g,l,c)];case 3:return v=E.sent(),[3,5];case 4:throw m=E.sent(),f(pe,"Failed to use Crypto API to verify ID_TOKEN: "+m);case 5:if(v){if(w=u.iss!=="https://access.line.me",b=u.aud!==t,C=1e3*u.exp<Date.now(),w)throw f(pe,'Invalid "iss" value in ID_TOKEN');if(b)throw f(pe,'Invalid "aud" value in ID_TOKEN');if(C)throw f(pe,'Invalid "exp" value in ID_TOKEN');return[2,u]}throw f(pe,"Invalid signature in ID_TOKEN");case 6:throw f(pe,'Invalid "kid" value in ID_TOKEN');case 7:return[2]}})})}function Jt(e){var t=e.split(".");if(t[1])try{var n=t[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(n))}catch{return null}return null}function Tr(e){var t=e.pathname,n=e.query,r="liff://"+t+(n?"?"+B.stringify(n):"");location.href=r}var Tt=null;function Ao(){typeof Tt=="boolean"&&I.warn("liff.init is not expected to be called more than once"),Tt=!!Rn()||!(!_()||B.parse(window.location.hash).feature_token||Ce())&&(Bn(!0),!0)}function Et(){return Boolean(Tt)}function xo(e,t){return h(this,void 0,void 0,function(){var n;return p(this,function(r){switch(r.label){case 0:return(n=xe())?[2,n]:e&&t?[4,_r({msit:e,mstVerifier:t})]:[3,2];case 1:return[2,r.sent().mst];case 2:return[2,null]}})})}function ko(e){return N(P("apps")+"/"+e+"/featureToken")}function Lo(e){return h(this,void 0,void 0,function(){var t,n,r,i;return p(this,function(o){switch(o.label){case 0:return t=B.parse(window.location.hash),n=Di({access_token:fe(),context_token:Jn(),feature_token:Ce(),id_token:Nt(),client_id:Kn(),mst_challenge:jt(),mst_verifier:Wn(),msit:Hn()},t),Et()?K()?[4,ko(e)]:[3,2]:[3,3];case 1:r=o.sent().featureToken,n.feature_token||(n.feature_token=r),o.label=2;case 2:(i=kt(e))&&(n.client_id=i),o.label=3;case 3:return[2,n]}})})}function jo(e){if(e.persisted&&me("multipleLiffTransition"))if(Y()==="ios")window.location.reload();else{var t=k().liffId,n=Ce();if(!t)throw f(M,"Invalid LIFF ID.");if(!n)throw f(Q,"Invalid featureToken for client features");Tr({pathname:"app/"+t,query:{feature_token:n}})}}function Mo(e,t){return h(this,void 0,void 0,function(){var n,r;return p(this,function(i){switch(i.label){case 0:return[4,or(e)];case 1:return n=i.sent().client_id,r=kt(t),[2,n===r]}})})}function No(e,t){return h(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,d,g,v,m;return p(this,function(w){switch(w.label){case 0:return[4,new Promise(function(b){var C=oe();if(!C||re(C,"9.5.0")<0)b();else if(window._liff&&window._liff.features)b();else{I.debug("cannot find window._liff.features, listen to ready event");var E=function(){I.debug("ready event is fired"),qt("ready",E),b()};Wt("ready",E)}})];case 1:return w.sent(),Ao(),[4,Lo(t.liffId)];case 2:if(n=w.sent(),r=n.access_token,i=n.context_token,o=n.feature_token,a=n.id_token,s=n.client_id,u=n.mst_verifier,c=n.mst_challenge,l=n.msit,i){if(typeof i!="string")throw f(M,"Cannot get context token, perhaps there is an incorrect parameter in permanent link");it(Jt(i))}return!we()&&o&&(function(b,C){me("multipleLiffTransition")&&Tr({pathname:"app/"+b,query:{feature_token:C}})}(t.liffId,o),Et()&&mt(o)),c&&Gn(c),u&&qn(u),s&&Mt(s),l&&Vn(l),window.addEventListener("pageshow",jo),K()?[3,7]:o&&r?[3,5]:Et()?(d=jn(location.href,{"liff.hback":"2"}),e.login({redirectUri:d}),[4,new Promise(function(){})]):[3,4];case 3:w.sent(),w.label=4;case 4:throw e.login(),f(M,"Failed to parse feature_token or access_token");case 5:return[4,Mo(r,t.liffId)];case 6:if(!w.sent())throw e.login(),f(M,"Failed to verify access_token");mt(o),ot(r),w.label=7;case 7:return[4,xo(l,u)];case 8:return(g=w.sent())?(zn(g),[4,Ir({mst:g})]):[3,10];case 9:(v=w.sent().data)&&et(JSON.stringify(v)),w.label=10;case 10:return a&&!Nt()&&Ft(a),a&&s&&!Bt()?[4,Sr(a,s)]:[3,12];case 11:(m=w.sent())&&Ut(m),w.label=12;case 12:return[2]}})})}function Fo(e){return h(this,void 0,void 0,function(){var t,n,r,i,o,a,s;return p(this,function(u){switch(u.label){case 0:return t=P("apps"),n=t+"/"+e+"/contextToken",r=fe(),i={"Content-Type":"application/json",Accept:"application/json"},r&&(i.Authorization="Bearer "+r),[4,N(n,{headers:i})];case 1:if(o=u.sent(),!(a=o.contextToken))throw f(M,"Can not get context from server.");if(!(s=Jt(a)))throw f(M,"Invalid context token.");return[2,s]}})})}function Er(){return h(this,void 0,void 0,function(){var e,t;return p(this,function(n){switch(n.label){case 0:if(!(e=k().liffId))throw f(M,"Invalid LIFF ID.");return[4,Fo(e)];case 1:return t=n.sent(),it(t),[2]}})})}function Do(e){return h(this,void 0,void 0,function(){var t,n,r,i=this;return p(this,function(o){switch(o.label){case 0:t=function(){return h(i,void 0,void 0,function(){var a,s,u,c,l,d;return p(this,function(g){switch(g.label){case 0:return[4,(v=k(),m=B.parse(window.location.search),w=Rt(),b={grant_type:"authorization_code",client_id:m.liffClientId,appId:v.liffId,code:m.code,code_verifier:w.codeVerifier,redirect_uri:v.redirectUri||m.liffRedirectUri,id_token_key_type:"JWK"},C=B.stringify(b),N(P("token"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:C}))];case 1:return a=g.sent(),s=a.access_token,u=a.id_token,c=a.expires_in,Mt(e),ot(s),Qn(new Date(Date.now()+1e3*c)),bt(),u?(Ft(u),[4,Sr(u,e)]):[3,3];case 2:(l=g.sent())&&Ut(l),g.label=3;case 3:return(d=B.parse(location.hash).context_token)?(it(Jt(d)),[3,6]):[3,4];case 4:return[4,Er()];case 5:g.sent(),g.label=6;case 6:return[2]}var v,m,w,b,C})})},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t()];case 2:return o.sent(),[3,4];case 3:throw n=o.sent(),r=n,bt(),r;case 4:return[2]}})})}function Cr(){return h(this,void 0,void 0,function(){var e,t,n,r,i,o,a=this;return p(this,function(s){switch(s.label){case 0:return(t=ye())?[3,2]:[4,Vt(ke.SUB)];case 1:t=s.sent(),s.label=2;case 2:return(e=t).isReady()?(n=Te(8),[4,e.getData("appData")]):[3,8];case 3:return r=s.sent(),i=r.eventName,o=r.data,i!==Xe.NOT_FOUND?[3,6]:[4,e.teardown()];case 4:return s.sent(),[4,Cr()];case 5:return[2,s.sent()];case 6:o&&et(JSON.stringify(o)),s.label=7;case 7:return e.listen(function(u){return h(a,void 0,void 0,function(){var c,l;return p(this,function(d){return c=u.context,l=c.data,c.eventName===S.INIT&&(l==null?void 0:l.subWindowId)!==n&&je(),c.eventName!==S.CANCEL&&c.eventName!==S.SUBMIT||e.teardown(),[2]})})}),K()&&e.send({eventName:S.INIT,data:{subWindowId:n,hasOpener:!!window.opener}}),[3,10];case 8:return zt()?[3,10]:[4,new Promise(function(u){window.addEventListener("message",function(c){return function l(d){var g=d.data,v=d.source,m=d.origin;if(g){var w=g.type,b=g.message;w===Ze&&(window.removeEventListener("message",l),b&&et(b),br(m),v&&v.postMessage&&v.postMessage({status:Ze},m),c())}}}(u))})];case 9:return[2,s.sent()];case 10:return[2]}})})}var Ro=new(function(){function e(){var t=this;this.getAndValidateContext=function(){var n=J();if(!n)throw f(M,"Could not get Context from server.");if(!n.endpointUrl)throw f(M,"Could not get endpointUrl from server.");if(!n.permanentLinkPattern)throw f(M,"Could not get permanentLinkPattern from server.");return n},this.decodeState=function(n){var r=t.getAndValidateContext();n=n.replace(/\n/g,"%0D%0A");var i=!r.endpointUrl.startsWith("/?")&&r.endpointUrl.includes("/?")||!r.endpointUrl.startsWith("/#")&&r.endpointUrl.includes("/#")||r.endpointUrl.endsWith("/")||!n.startsWith("/?")&&n.includes("/?")||!n.startsWith("/#")&&n.includes("/#")||n.endsWith("/"),o=new URL(r.endpointUrl),a=o.origin,s=o.pathname,u=o.search,c=new URL(""+a+t.attachSlashAtStart(n)),l=c.pathname,d=c.search,g=c.hash,v=""+u+(u?d.replace(/\?/g,"&"):d),m=(""+s+t.attachSlashAtStart(l)).replace("//","/");return(m=t.attachSlashAtStart(""+m)).endsWith("/")&&!i&&(m=m.substring(0,m.length-1)),(""+a+m+v+g).replace(/%0D%0A/g,`
`)}}return e.prototype.attachSlashAtStart=function(t){return(t&&t.length>0&&!t.startsWith("/")?"/":"")+t},e.prototype.invoke=function(){return h(this,void 0,void 0,function(){var t,n,r,i,o;return p(this,function(a){switch(a.label){case 0:if(t=B.parse(window.location.search),typeof(n=t["liff.state"])!="string")return[2];a.label=1;case 1:return a.trys.push([1,4,,5]),r=location.href,(i=this.decodeState(n))===r?[3,3]:(t["liff.hback"]?location.replace(jn(i,{"liff.hback":t["liff.hback"]})):location.replace(i),[4,new Promise(function(){})]);case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if((o=a.sent()).code===M)throw o;return I.debug(o),[3,5];case 5:return[2]}})})},e}());function Bo(e,t,n){return h(this,void 0,void 0,function(){var r;return p(this,function(i){switch(i.label){case 0:if(!t.liffId)throw f(ie,"liffId is necessary for liff.init()");return Fn(t),!_()&&K()&&(Yn()||tr()),r=B.parse(window.location.search),!we()||_()?[3,2]:[4,Cr()];case 1:i.sent(),i.label=2;case 2:if(r.error&&r.liffOAuth2Error)throw s=r.error,u=r.error_description,c=u.replace(/\+/g," "),f(M,s+": "+c);return o=r.code,a=Rt(),Boolean(o&&!K()&&a&&a.codeVerifier)?[4,Do(r.liffClientId)]:[3,4];case 3:i.sent(),i.label=4;case 4:return _()?[4,No(e,t)]:[3,6];case 5:return i.sent(),[3,8];case 6:return K()?[3,8]:[4,Er()];case 7:i.sent(),i.label=8;case 8:return[4,Ro.invoke()];case 9:return i.sent(),[4,n()];case 10:return i.sent(),Li(window.location.href),[2]}var o,a,s,u,c})})}var pn=function(e,t){return new Promise(function(n,r){if(e){var i=document.createElement("script");i.type="module",i.onload=function(){n()},i.src=e,document.head.appendChild(i)}else r(f(ie,t))})};function Uo(){return h(this,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:return _()||Y()!=="android"||(e=B.parse(window.location.search))[ar]||!(e.liffClientId&&document.referrer===""||document.referrer.includes("liffClientId"))||e.liffIsEscapedFromApp?[3,4]:[4,pn("https://static.line-scdn.net/lui/edge/versions/1.13.0/luivendor.js","LUI_VENDOR_URL is not defined")];case 1:return t.sent(),[4,pn("https://static.line-scdn.net/lui/edge/versions/1.13.0/lui-alert.js","LUI_ALERT_URL is not defined")];case 2:return t.sent(),[4,(n=Te(6),new Promise(function(){var r=document.createElement("div");r.innerHTML='<lui-alert id="liffAlert-'+n+'" shown title="Login successfully!" message="Continue to launch LIFF app!"></lui-alert>',document.body.appendChild(r);var i=document.getElementById("liffAlert-"+n);i&&i.addEventListener("lui-button-click",function(){var o=window.open(window.location.href+"&liffIsEscapedFromApp=true","_blank");o&&(o.location.href=window.location.href+"&liffIsEscapedFromApp=true",window.close())})}))];case 3:t.sent(),t.label=4;case 4:return[2]}var n})})}var Wo=function(){function e(){this.hooks={before:new $e,after:new $e},this.internalHooks={beforeFinished:new $e,beforeSuccess:new $e,error:new $e}}return Object.defineProperty(e.prototype,"name",{get:function(){return"init"},enumerable:!1,configurable:!0}),e.prototype.install=function(t){var n=t.liff;return this.liff=n,this.init.bind(this)},e.prototype.init=function(t,n,r){return h(this,void 0,void 0,function(){var i;return p(this,function(o){switch(o.label){case 0:return[4,this.hooks.before.call()];case 1:o.sent(),a=this.liff,window&&!window.liff&&(window.liff=a),o.label=2;case 2:return o.trys.push([2,9,,11]),[4,Promise.all([Oo(this.liff),Bo(this.liff,t,this.internalHooks.beforeFinished.call)])];case 3:return o.sent(),Co(),[4,this.internalHooks.beforeSuccess.call()];case 4:return o.sent(),!t.withLoginOnExternalBrowser||K()?[3,6]:(this.liff.login(),[4,new Promise(function(){})]);case 5:o.sent(),o.label=6;case 6:return[4,Uo()];case 7:return o.sent(),[4,this.hooks.after.call()];case 8:return o.sent(),typeof n=="function"&&n(),At(),[3,11];case 9:return i=o.sent(),[4,this.internalHooks.error.call(i)];case 10:throw o.sent(),typeof r=="function"&&r(i),i;case 11:return[2]}var a})})},e}(),qo=Object.freeze(Object.defineProperty({__proto__:null,InitModule:Wo},Symbol.toStringTag,{value:"Module"})),Ho=T(qo);function Xt(){return"2.20.1"}var Vo=Object.freeze(Object.defineProperty({__proto__:null,getVersion:Xt},Symbol.toStringTag,{value:"Module"})),Or={exports:{}};(function(e){(function(t,n){e.exports?e.exports=n():t.sha256=n()})(Qr,function(){var t=function n(r){function i(Ue,We){return Ue>>>We|Ue<<32-We}for(var o=Math.pow,a=o(2,32),s="length",u,c,l="",d=[],g=r[s]*8,v=n.h=n.h||[],m=n.k=n.k||[],w=m[s],b={},C=2;w<64;C++)if(!b[C]){for(u=0;u<313;u+=C)b[u]=C;v[w]=o(C,.5)*a|0,m[w++]=o(C,.3333333333333333)*a|0}for(r+="\x80";r[s]%64-56;)r+="\0";for(u=0;u<r[s];u++){if(c=r.charCodeAt(u),c>>8)return;d[u>>2]|=c<<(3-u)%4*8}for(d[d[s]]=g/a|0,d[d[s]]=g,c=0;c<d[s];){var E=d.slice(c,c+=16),X=v;for(v=v.slice(0,8),u=0;u<64;u++){var de=E[u-15],te=E[u-2],ne=v[0],he=v[4],ae=v[7]+(i(he,6)^i(he,11)^i(he,25))+(he&v[5]^~he&v[6])+m[u]+(E[u]=u<16?E[u]:E[u-16]+(i(de,7)^i(de,18)^de>>>3)+E[u-7]+(i(te,17)^i(te,19)^te>>>10)|0),at=(i(ne,2)^i(ne,13)^i(ne,22))+(ne&v[1]^ne&v[2]^v[1]&v[2]);v=[ae+at|0].concat(v),v[4]=v[4]+ae|0}for(u=0;u<8;u++)v[u]=v[u]+X[u]|0}for(u=0;u<8;u++)for(c=3;c+1;c--){var Be=v[u]>>c*8&255;l+=(Be<16?0:"")+Be.toString(16)}return l};return t.code='var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};',t})})(Or);var zo=Or.exports,Go=function(){function e(){this.hooks={before:new Eo}}return Object.defineProperty(e.prototype,"name",{get:function(){return"login"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return this.login.bind(this)},e.prototype.login=function(t){var n;this.hooks.before.call(t);var r=Te(43),i=Pi(zo(r)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),o=k();if(!o||!o.liffId)throw f(ie,"You need to define `liffId` for liff.login()");var a={app_id:o.liffId,state:Te(12),response_type:"code",code_challenge_method:"S256",code_challenge:i,liff_sdk_version:Xt()};t&&t.redirectUri&&(a.redirect_uri=t.redirectUri),we()&&!_()&&(!((n=ye())===null||n===void 0)&&n.isReady()?a.redirect_uri=window.location.href:a.disable_auto_login="true"),Xn({codeVerifier:r});var s=P("authorize")+"?"+B.stringify(a);I.debug("[Redirect] "+s),window.location.href=s},e}(),Ko=Object.freeze(Object.defineProperty({__proto__:null,LoginModule:Go},Symbol.toStringTag,{value:"Module"})),Jo=T(Ko),Xo=T(Hi),Qo=T(Bi),Yo=T(_i),Zo=T(Gi),ea=T(Vo);function ta(){return navigator.language}var na=Object.freeze(Object.defineProperty({__proto__:null,getLanguage:ta},Symbol.toStringTag,{value:"Module"})),ra=T(na);function $r(){return N(P("profile"))}var ia=Object.freeze(Object.defineProperty({__proto__:null,getProfile:$r},Symbol.toStringTag,{value:"Module"})),oa=T(ia),aa=T(Vi),sa=T(Zi),ua=T(mo),ca=T(Ki),la=T(oo),fa=function(e,t){return e?"&"+e.split("&").filter(function(n){return n.indexOf("is_liff_external_open_window")===-1}).join("&").concat(t?"#"+t:""):t?"#"+t:""};function da(e){if(!function(o){if(!o||typeof o!="object")return!1;var a=o,s=a.url,u=a.external,c=H([typeof s,typeof u],2),l=c[0],d=c[1];return l==="string"&&s!==""&&(d==="undefined"||d==="boolean")}(e))throw f(L,"Invalid parameters for liff.openWindow()");var t=oe();if(_())if(t!==null&&Y()==="ios"&&re(t,"9.19")>=0||!window._liff.postMessage){var n=e.url,r=e.external,i=r!==void 0&&r;window.open(function(o,a){var s,u,c,l,d,g,v,m,w;return function(b){return b.indexOf("#")!==-1&&b.indexOf("?")!==-1&&b.indexOf("#")<b.indexOf("?")}(o)||function(b){return b.indexOf("?")===-1&&b.indexOf("#")!==-1}(o)?(v=(s=H(o.split("#"),2))[0],u=s[1],m=(c=H((u===void 0?"":u).split("?"),2))[0],w=c[1]):(v=(l=H(o.split("?"),2))[0],d=l[1],w=(g=H((d===void 0?"":d).split("#"),2))[0],m=g[1]),v+"?is_liff_external_open_window="+!!a+fa(w,m)}(n,i))}else Ht("openWindow",e);else window.open(e.url,"_blank")}var ha=Object.freeze(Object.defineProperty({__proto__:null,openWindow:da},Symbol.toStringTag,{value:"Module"})),pa=T(ha),va=T(bo),ga=function(e){return typeof e=="object"&&e!==null&&function(t){return typeof t=="string"||t instanceof String}(e.type)};function vn(e){return Promise.reject(f(L,e))}function ma(e){if(!function(n){return Array.isArray(n)&&n.every(ga)}(e))return vn("Parameter 'messages' must be an array of { type, ... }");var t=e.length;return t<1||t>5?vn("Number of messages should be in range 1 to 5."):N(P("message"),{method:"POST",body:JSON.stringify({messages:e})}).catch(Pr)}var Pr=function(e){if(e.code==="403"){var t=oe()==="12.0.0",n=Y()==="ios",r=Lt();t&&(n||r)&&window.alert(`LINE\u30A2\u30D7\u30EA\u3092LINE 12.0.1\u4EE5\u964D\u306B\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8\u3057\u3066\u304F\u3060\u3055\u3044\u3002
Please update your LINE app to LINE 12.0.1 or later.`)}throw e},ba=Object.freeze(Object.defineProperty({__proto__:null,alertToPromptUpdate:Pr,sendMessages:ma},Symbol.toStringTag,{value:"Module"})),wa=T(ba);function ya(){return N(P("friendship"))}var _a=Object.freeze(Object.defineProperty({__proto__:null,getFriendship:ya},Symbol.toStringTag,{value:"Module"})),Ia=T(_a),Sa=T(To),Ta=function(e,t){this._driver=e,this.liff=t,this.hooks=this._driver.hooks,this.internalHooks=this._driver.internalHooks},Ea=function(e,t){this._driver=e,this.liff=t,this.hooks=this._driver.hooks},Ca=function(){function e(){this.modules=new Map,this.hooks={},this.internalHooks={}}return e.prototype.addModule=function(t,n){this.modules.set(t,n),n.hooks&&(this.hooks[t]=Object.entries(n.hooks).reduce(function(r,i){var o,a=H(i,2),s=a[0],u=a[1];return O(O({},r),((o={})[s]=u.on.bind(u),o))},{})),n.internalHooks&&(this.internalHooks[t]=Object.entries(n.internalHooks).reduce(function(r,i){var o,a=H(i,2),s=a[0],u=a[1];return O(O({},r),((o={})[s]=u.on.bind(u),o))},{}))},e.prototype.hasModule=function(t){return this.modules.has(t)},e}(),Oa=function(){function e(t,n,r){this.driver=t,this.context=n,this.option=r}return e.prototype.install=function(){return this.factory(this.driver,this.context)},Object.defineProperty(e.prototype,"name",{get:function(){return"use"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultOption",{get:function(){return{namespacePrefix:"$"}},enumerable:!1,configurable:!0}),e.prototype.factory=function(t,n){var r=Object.assign({},this.defaultOption,this.option).namespacePrefix;return function(i,o){if(!i||typeof i.install!="function"||typeof i.name!="string")return I.warn("To install the plugin, you need to define the `name` property and the `install` method."),this;var a=""+r+i.name;if(t.hasModule(a))return this;var s=i.install.call(i,n,o);return this[""+a]?(I.warn("There is a duplicate plugin name. `"+a+"` plugin namespace will be override."),this[""+a]=s):s!==void 0&&(this[""+a]=s),t.addModule(a,i),this}},e}(),$a=Object.freeze(Object.defineProperty({__proto__:null,LiffPluginContextImpl:Ea,ModuleContextImpl:Ta,ModuleDriverImpl:Ca,UseModule:Oa},Symbol.toStringTag,{value:"Module"})),Pa=T($a);function Aa(){return h(this,void 0,void 0,function(){var e,t;return p(this,function(n){switch(n.label){case 0:if(!K())return[3,6];n.label=1;case 1:return n.trys.push([1,5,,6]),(e=Bt())&&e.sub?[2,e.sub]:[3,2];case 2:return[4,$r()];case 3:if((t=n.sent())&&t.userId)return[2,t.userId];n.label=4;case 4:return[3,6];case 5:return n.sent(),I.debug("can't retrieve Mid/Uid because of something wrong"),[3,6];case 6:return[2]}})})}function xa(){return h(this,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:return[4,Aa()];case 1:return(e=t.sent())&&e.substring(0,1)==="u"?[2,e]:[2]}})})}var ka=function(){function e(){this.utsExtra={isLiffSuccessful:!1,isLoggedIn:!1,id:"",version:""},this.injected=!1}return Object.defineProperty(e,"CUSTOMPLACEID_INIT",{get:function(){return"liff.init"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CUSTOMTYPE",{get:function(){return"liffSdk"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"GENERAL_UTS_ID",{get:function(){return"liff_general"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"GENERAL_APP_NAME",{get:function(){return"LIFF General"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"LiffUtsLoginStatus",{get:function(){return{isLoggedIn:1,isLiffSuccessful:2}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return"analytics"},enumerable:!1,configurable:!0}),e.prototype.install=function(t){var n=t.liff,r=t.internalHooks;this.liffCore=n,r.init.beforeFinished(this.beforeInitFinished.bind(this)),r.init.beforeSuccess(this.beforeInitSuccess.bind(this)),r.init.error(this.initError.bind(this))},e.prototype.changeRatioToUTSFormat=function(t){if(t&&Number.isFinite(t))return Math.round(100*t)},e.prototype.setExtra=function(){var t=this.utsExtra,n=t.isLiffSuccessful,r=t.isLoggedIn,i=t.id,o=t.version,a=(r?e.LiffUtsLoginStatus.isLoggedIn:0)|(n?e.LiffUtsLoginStatus.isLiffSuccessful:0);this.uts.setExtra("liff",{id:i,loginStatus:a,version:o})},e.prototype.assignUtsExtra=function(t){Object.assign(this.utsExtra,t)},e.prototype.setVersion=function(t){this.assignUtsExtra({version:t}),I.debug("[LIFFUTS][SDK version] "+t),this.setExtra()},e.prototype.setLiffId=function(t){this.assignUtsExtra({id:t}),I.debug("[LIFFUTS][LIFFID] "+t),this.setExtra()},e.prototype.setIsLoggedIn=function(t){this.assignUtsExtra({isLoggedIn:t}),I.debug("[LIFFUTS][isLoggedIn] "+t),this.setExtra()},e.prototype.sendLiffInit=function(){I.debug("[LIFFUTS][sendCustom] liff.init"),this.uts.sendCustom({type:e.CUSTOMTYPE,params:{placeId:e.CUSTOMPLACEID_INIT}})},e.prototype.setIsLiffSuccessful=function(t){this.assignUtsExtra({isLiffSuccessful:t}),I.debug("[LIFFUTS][isLiffInitSuccessful] "+t),this.setExtra()},e.prototype.prepareReferrer=function(t){var n={};Object.keys(t).forEach(function(r){if(Si.includes(r)){var i=t[r];typeof i=="string"&&i&&(n[r.replace(/^liff\.ref\./,"")]=i)}}),Object.keys(n).length>0&&(this.referrer=n)},e.prototype.beforeInitFinished=function(){return h(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c,l,d,g,v;return p(this,function(m){switch(m.label){case 0:if(t=B.parse(window.location.search),this.prepareReferrer(t),n=J(),!(r=n==null?void 0:n.utsTracking))return[2];if((i=r.mode)!=="auto"&&i!=="force")return[3,6];I.debug("[LIFFUTS] "+new Date().toUTCString()),o=k(),a=o.liffId,s=o.analytics,m.label=1;case 1:return m.trys.push([1,3,,4]),u=this,[4,new Promise(function(w,b){var C=window.uts,E=document.createElement("script");E.type="text/javascript",E.src="https://static.line-scdn.net/uts/edge/4.1.0/uts.js",E.onload=function(){var X=window.uts;w(X),window.uts=C},E.onerror=function(X){b(X)},document.getElementsByTagName("head")[0].appendChild(E)})];case 2:return u.uts=m.sent(),[3,4];case 3:return c=m.sent(),I.debug("[LIFFUTS] cannot load UTS, reason: "+c),[2];case 4:return l=void 0,d=void 0,i==="force"?(l={utsId:e.GENERAL_UTS_ID,appName:e.GENERAL_APP_NAME,appEnv:"release"},d={endpoint:"https://uts-front.line-apps.com",sampleRate:this.changeRatioToUTSFormat(r.sendRatio),version:"current"}):(l=O(O({},s==null?void 0:s.context),{utsId:(s==null?void 0:s.context.utsId)||e.GENERAL_UTS_ID,appName:(s==null?void 0:s.context.appName)||e.GENERAL_APP_NAME,appEnv:(s==null?void 0:s.context.appEnv)||"release"}),d=O(O({endpoint:"https://uts-front.line-apps.com"},s==null?void 0:s.options),{sampleRate:this.changeRatioToUTSFormat(r.sendRatio),version:"current"})),this.uts.init(l,d),[4,xa()];case 5:(g=m.sent())&&(I.debug("[LIFFUTS][mid] "+g),this.uts.setMid(g)),n!=null&&n.tid&&(I.debug("[LIFFUTS][tid] "+n.tid),this.uts.setTid(n.tid)),this.referrer&&(I.debug("liff.ref.referrer",this.referrer),this.uts.setSessionParams(this.referrer)),a&&this.setLiffId(a),this.setIsLoggedIn(K()),this.setVersion(Xt()),v=Ln(location.href),I.debug("[LIFFUTS][url] "+v),this.uts.setUrl(v),this.liffCore.analytics=this.uts,this.injected=!0,m.label=6;case 6:return[2]}})})},e.prototype.beforeInitSuccess=function(){return this.injected&&(this.setIsLiffSuccessful(!0),this.sendLiffInit()),Promise.resolve()},e.prototype.initError=function(){return this.injected&&(this.setIsLiffSuccessful(!1),this.sendLiffInit()),Promise.resolve()},e}(),Ar=function(e){I.debug("[LIFFUTS][sendCustom] liff.shareTargetPicker"),e.sendCustom({type:"liffSdk",params:{placeId:"liff.shareTargetPicker"}})},La=Object.freeze(Object.defineProperty({__proto__:null,AnalyticsModule:ka,sendShareTargetPicker:Ar},Symbol.toStringTag,{value:"Module"})),ja=T(La);function Ma(e){return h(this,void 0,void 0,function(){var t,n;return p(this,function(r){switch(r.label){case 0:return[4,fetch(P("permanentLink"),{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:JSON.stringify(e)})];case 1:return(t=r.sent()).ok?[3,3]:[4,t.json()];case 2:throw n=r.sent().message,f(R,n);case 3:return[4,t.json()];case 4:return[2,r.sent()]}})})}var xr=function(){function e(){var t=this;this.extraParams="",this.getAndValidateContext=function(){var n=J();if(!n)throw f(M,"Could not get Context from server.");if(!n.endpointUrl)throw f(M,"Could not get endpointUrl from server.");if(!n.permanentLinkPattern)throw f(M,"Could not get permanentLinkPattern from server.");return n},this.createUrl=function(){var n=t.getAndValidateContext(),r=window.location,i=r.pathname,o=r.search,a=r.hash,s=r.origin,u=new URL(n.endpointUrl);if(u.origin!==s||!t.isAncestor(u.pathname,i))throw f(ie,"Current page is not under entrypoint.");var c=i.substring(u.pathname.length);c.length>0&&c[0]!=="/"&&(c="/"+c);var l=new RegExp("^"+Pn.join("|")),d=a.substring(1).split("&").filter(function(te){return!l.test(te)&&Boolean(te)}).join("&"),g=d===u.hash.substring(1)?"":d,v=function(te){return te.substring(1).split("&").filter(function(ne){return!/liff\.state/.test(ne)&&Boolean(ne)})},m=v(o),w=v(u.search);t.extraParams&&m.push(t.extraParams);for(var b=0;b<w.length;b++){var C=w[b],E=m.indexOf(C);E>-1&&m.splice(E,1)}var X=m.join("&"),de=c+(X!==""?"?"+X:"")+(g?"#"+g:"");return""+$n+k().liffId+de},this.createUrlBy=function(n){return h(t,void 0,void 0,function(){var r,i;return p(this,function(o){switch(o.label){case 0:if(!(r=k().liffId))throw f(M,"Should run after liff init.");try{i=new URL(n)}catch{throw f(L,"invalid URL.")}return[4,Ma({liffId:r,currentPageUrl:i.toString()})];case 1:return[2,o.sent().permanentLinkUrl]}})})},this.setExtraQueryParam=function(n){t.extraParams=n},this.isAncestor=function(n,r){return r.indexOf(n)===0&&(n.endsWith("/")&&(n=n.substring(0,n.length-1)),r[n.length]===void 0||r[n.length]==="/")},this.install=function(){return{createUrl:t.createUrl,createUrlBy:t.createUrlBy,setExtraQueryParam:t.setExtraQueryParam}}}return Object.defineProperty(e.prototype,"name",{get:function(){return"permanentLink"},enumerable:!1,configurable:!0}),e}(),Na=new xr,Fa=Object.freeze(Object.defineProperty({__proto__:null,PermanentLink:xr,module:Na},Symbol.toStringTag,{value:"Module"})),Da=T(Fa),Ra=T(no),Se,Ba=function(){function e(t,n){var r=this;this.resolve=t,this.reject=n,this.onSubmit=function(i){var o=i.message;r.resolve({value:o}),r.destroy()},this.onClose=function(){r.resolve({value:null}),r.destroy()},this.onCancel=function(){r.resolve({value:null}),r.destroy()},this.onError=function(i){r.reject(i),r.destroy()},this.start()}return e.prototype.start=function(){G.on("submit",this.onSubmit),G.on("close",this.onClose),G.on("cancel",this.onCancel),G.on("error",this.onError)},e.prototype.destroy=function(){G.off("submit",this.onSubmit),G.off("close",this.onClose),G.off("cancel",this.onCancel),G.off("error",this.onError),Se=void 0},e}();function Ua(){return h(this,void 0,void 0,function(){return p(this,function(e){if(!me("subwindowOpen")||!me("scanCodeV2"))throw f(Q,"No permission for liff.scanCodeV2()");return Se&&Se.destroy(),[2,new Promise(function(t,n){Se=new Ba(t,n),G.open({url:"https://liff.line.me/1656359117-jxmx5e11"}).catch(function(r){Se==null||Se.destroy(),n(r)})})]})})}var kr=function(){function e(){}return Object.defineProperty(e.prototype,"name",{get:function(){return"scanCodeV2"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return Ua},e}(),Wa=new kr,qa=Object.freeze(Object.defineProperty({__proto__:null,ScanCodeV2Module:kr,module:Wa},Symbol.toStringTag,{value:"Module"})),Ha=T(qa);function Lr(e){return h(this,void 0,void 0,function(){var t,n,r,i,o,a,s;return p(this,function(u){switch(u.label){case 0:return function(c){if(!Ci.includes(c))throw f(L,"Unexpected permission name.");var l=J();return!!(l!=null&&l.scope.includes(c))}(e)?(t=fe())?[4,or(t)]:[3,2]:[2,{state:"unavailable"}];case 1:n=u.sent(),r=unescape(n.scope).split(" ");try{for(i=rt(r),o=i.next();!o.done;o=i.next())if(o.value.includes(e))return[2,{state:"granted"}]}catch(c){a={error:c}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(a)throw a.error}}return[2,{state:"prompt"}];case 2:throw f(V,"LiffId is not found.")}})})}function jr(){var e,t,n=J();return!!n&&n.type!=="square_chat"&&(me("skipChannelVerificationScreen")||!_()&&((t=(e=n.availability)===null||e===void 0?void 0:e.skipChannelVerificationScreen)===null||t===void 0?void 0:t.permission))}function Va(){var e=k().liffId;if(e)return N(P("unauthorizedPermissions")+"?liffId="+e,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+fe()}});throw f(V,"liffId is required")}var Ye,Ge=G.on,Ke=G.off,za=G.open,Ga=function(){function e(t,n){var r=this;this.onSubmit=function(i){var o=i.newAccessToken,a=i.ICA_ERROR;return h(r,void 0,void 0,function(){return p(this,function(s){return o?this.resolve({newAccessToken:o}):a&&this.reject(f(R,a)),this.teardown(),[2]})})},this.onClose=function(){return h(r,void 0,void 0,function(){return p(this,function(i){return this.reject(f(V,"user didn't allow the agreement")),this.teardown(),[2]})})},this.onCancel=function(){return h(r,void 0,void 0,function(){return p(this,function(i){return this.reject(f(V,"user didn't allow the agreement")),this.teardown(),[2]})})},this.onError=function(i){return h(r,void 0,void 0,function(){return p(this,function(o){return this.reject(i),this.teardown(),[2]})})},this.resolve=t,this.reject=n,this.setup()}return e.prototype.setup=function(){Ge("submit",this.onSubmit),Ge("close",this.onClose),Ge("cancel",this.onCancel),Ge("error",this.onError)},e.prototype.teardown=function(){Ke("submit",this.onSubmit),Ke("close",this.onClose),Ke("cancel",this.onCancel),Ke("error",this.onError),Ye=void 0},e.prototype.open=function(){var t=k().liffId;t?za({url:"https://liff.line.me/1656032314-Xgrw5Pmk",appData:{liffId:t,channelId:kt(t),accessToken:fe()}}):this.reject(f(V,"liffId is required"))},e}();function Mr(){return h(this,void 0,void 0,function(){var e,t;return p(this,function(n){switch(n.label){case 0:if(!jr())throw f(Q,"SkipChannelVerificationScreen is unavailable.");return Ye&&Ye.teardown(),[4,Va()];case 1:return e=n.sent(),(_()?e:e.filter(function(r){return r!=="chat_message.write"})).length>0?[4,new Promise(function(r,i){(Ye=new Ga(r,i)).open()})]:[3,3];case 2:return t=n.sent().newAccessToken,ot(t),[3,4];case 3:throw f(Q,"All permissions have already been approved.");case 4:return[2]}})})}function Ka(e,t){var n=this;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return h(n,void 0,void 0,function(){var o,a,s;return p(this,function(u){switch(u.label){case 0:return o=(r.length>0?r[r.length-1]:{}).ignorePermissionCheck,a=o!==void 0&&o,[4,Lr(t)];case 1:if((s=u.sent().state)!=="unavailable")return[3,2];throw f(Q,"The permission is not in LIFF app scope.");case 2:return s!=="prompt"||!jr()||a||!_()&&t==="chat_message.write"?[3,4]:[4,Mr()];case 3:return u.sent(),[3,5];case 4:a&&r.pop(),u.label=5;case 5:return[4,e.apply(void 0,ce(r))];case 6:return[2,u.sent()]}})})}}var Nr=function(){function e(){this.name="permission"}return e.prototype.install=function(){return{query:Lr,requestAll:Mr}},e}(),Ja=new Nr,Xa=Object.freeze(Object.defineProperty({__proto__:null,PermissionModule:Nr,attachChecker:Ka,module:Ja},Symbol.toStringTag,{value:"Module"})),Qa=T(Xa),Fr={};function Ya(){return Fr}function Dr(e,t){var n=Ya(),r=H(t.split("."),1)[0],i=n[t];i&&e.removeEventListener(r,i),n[t]=null}var gn=!1,mn=!1;function Za(e,t,n,r){gn||(mn=function(){var o=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return o=!0,!1}});window.addEventListener("test",a,a),window.removeEventListener("test",a,a)}catch{o=!1}return o}(),gn=!0);var i=H(t.split("."),1)[0];return new Promise(function(o){var a=function(s){o(s),n&&n(s),r&&r.once&&Dr(e,t)};(function(s,u){Fr[s]=u})(t,a),e.addEventListener(i,a,!!mn&&r)})}function bn(e,t,n,r){if(n===void 0&&(n={}),typeof e!="object"||!e.postMessage)throw f(L,"target must be window object");if(typeof t!="string")throw f(L,"keyname must be string");if(typeof n!="object")throw f(L,"incorrect body format. It should be Object or Array comprised of Object");if(!r)throw f(L,"serverEndPointUrl isn't passed. please fill up with proper url");if(r==="*")throw new Error("serverEndPointUrl doesn't allow to set '*'");var i={name:t,body:n};e.postMessage(i,r)}function es(e,t,n,r){Za(e,"message."+t,function(i,o,a){return function(s){I.debug("messageReceive",s),s.origin===a&&s.data.name===i&&o(s)}}(t,n,r))}var ts=function(){function e(){this.payloadToShareTargetPicker=null,this.popupWindow=null,this.doesWaitForSubwindowResult=!1}return e.getInstance=function(){return e.instance?e.instance.reset():e.instance=new e,e.instance},e.prototype.init=function(t){return h(this,void 0,void 0,function(){var n,r;return p(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),this.liffId=t.referrer.liffId,this.doesWaitForSubwindowResult=!(!t.options||!t.options.waitForSubwindowResult),this.allowPostMessageOrigin=this.initAllowPostMessageOrigin(),this.payloadToShareTargetPicker=this.buildPayloadToShareTargetPicker(t),window.AbortController&&(this.abortController=new window.AbortController),this.prepareAnotherWindow(),[4,this.initOtt()];case 1:return i.sent(),this.initListener(),this.openAnotherWindow(),this.doesWaitForSubwindowResult?[4,this.pollingShareResult()]:[3,3];case 2:return n=i.sent(),this.finalize(),[2,n];case 3:return[2];case 4:return[3,6];case 5:if(r=i.sent(),this.finalize(),r.name!=="AbortError")throw r;return[3,6];case 6:return[2]}})})},e.prototype.resetAllVariables=function(){this.liffId="",this.allowPostMessageOrigin="",this.payloadToShareTargetPicker=null,this.ott="",this.popupWindow=null,this.timeoutIDForHealthCheck=null,this.abortController=null,this.internalError=null,this.doesWaitForSubwindowResult=!1},e.prototype.reset=function(){this.finalize(),this.resetAllVariables()},e.prototype.finalize=function(){var t,n;this.abortController&&this.abortController.abort(),_()||(t=this.timeoutIDForHealthCheck,n=this.popupWindow,Dr(window,"message.receivedHealthcheck"),t&&clearTimeout(t),n&&!n.closed&&n.close())},e.prototype.buildPayloadToShareTargetPicker=function(t){return{messages:t.messages,isMultiple:t.isMultiple,referrer:t.referrer}},e.prototype.initAllowPostMessageOrigin=function(t){return t===void 0&&(t=P("shareTargetPicker")),ji(t)},e.prototype.initOtt=function(){return h(this,void 0,void 0,function(){var t,n,r;return p(this,function(i){switch(i.label){case 0:return this.abortController&&(t=this.abortController.signal),n=P("shareTargetPickerOtt")+"/"+this.liffId+"/ott",r=this,[4,N(n,{method:"GET",signal:t}).then(function(o){return o.ott})];case 1:return r.ott=i.sent(),[2]}})})},e.prototype.prepareAnotherWindow=function(){_()||(Y()!=="ios"||Lt()?this.popupWindow=window.open("","liffpopup","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):this.popupWindow=window.open())},e.prototype.openAnotherWindow=function(){if(_()&&this.payloadToShareTargetPicker)t=this.liffId,n=this.ott,r=this.payloadToShareTargetPicker,i={liffId:t,ott:n,data:JSON.stringify(r),closeModals:!1},location.href="line://picker?"+B.stringify(i);else{if(this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),!this.popupWindow)throw f(vt);(function(o,a,s){var u={liffId:a,ott:s};o.location.href=P("shareTargetPicker")+"?"+B.stringify(u)})(this.popupWindow,this.liffId,this.ott)}var t,n,r,i},e.prototype.initListener=function(){var t,n;_()||(t=this.onReceivedHealthcheck.bind(this),n=this.allowPostMessageOrigin,es(window,"receivedHealthcheck",t,n))},e.prototype.healthCheck=function(){return h(this,void 0,void 0,function(){var t;return p(this,function(n){switch(n.label){case 0:if(this.popupWindow&&!this.popupWindow.closed)return[3,7];if(!this.doesWaitForSubwindowResult)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.onCanceled()];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),this.internalError=t,[3,4];case 4:return[3,6];case 5:this.finalize(),n.label=6;case 6:return[3,8];case 7:r=this.popupWindow,i=this.allowPostMessageOrigin,bn(r,"healthcheck",void 0,i),this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),n.label=8;case 8:return[2]}var r,i})})},e.prototype.onReceivedHealthcheck=function(){if(!this.popupWindow||!this.payloadToShareTargetPicker)throw f(vt);var t,n,r;t=this.popupWindow,n=this.payloadToShareTargetPicker,r=this.allowPostMessageOrigin,bn(t,"ready",n,r)},e.prototype.onCanceled=function(){return h(this,void 0,void 0,function(){var t,n;return p(this,function(r){switch(r.label){case 0:if(_()||!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(t=this.abortController.signal),n={liffId:this.liffId,ott:this.ott},[4,N(P("shareTargetPickerResult")+"?"+B.stringify(n),{method:"POST",signal:t,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:"result=CANCEL"})];case 1:return[2,r.sent().status==="ok"]}})})},e.prototype.getShareResult=function(){return h(this,void 0,void 0,function(){var t,n;return p(this,function(r){if(!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(t=this.abortController.signal),n={liffId:this.liffId,ott:this.ott},I.debug("fetch: getShareResult"),[2,N(P("shareTargetPickerResult")+"?"+B.stringify(n),{method:"GET",headers:{Accept:"application/json"},signal:t})]})})},e.isPollingTimeOut=function(t,n){return(n-t)/6e4>=10},e.prototype.pollingShareResult=function(){return h(this,void 0,void 0,function(){var t,n;return p(this,function(r){switch(r.label){case 0:t=Date.now(),r.label=1;case 1:if(e.isPollingTimeOut(t,Date.now()))return[3,4];if(this.internalError)throw this.internalError;return[4,this.getShareResult()];case 2:if((n=r.sent())&&n.result)switch(n.result){case"SUCCESS":return[2,{status:"success"}];case"CANCEL":return[2];case"FAILURE":default:throw new Error(n.resultDescription)}return[4,new Promise(function(i){setTimeout(i,500)})];case 3:return r.sent(),[3,1];case 4:throw new Error("Timeout: not finished within 10min")}})})},e}(),Rr=function(){function e(){var t=this;this.name="shareTargetPicker",this.shareTargetPicker=function(n,r){return r===void 0&&(r={}),h(t,void 0,void 0,function(){var i,o,a,s,u,c,l;return p(this,function(d){switch(d.label){case 0:if(i=r.isMultiple===void 0||r.isMultiple,this.checkPermission(),!K())throw f(V,"Need access_token for api call, Please login first");if(!n||!Array.isArray(n)||n.length===0)throw f(L,"no proper argument");if(n.length>Ii)throw f(L,"exceed the limit of num of messages");if(!(o=k().liffId))throw f(ie);window.liff&&(a=window.liff).analytics&&Ar(a.analytics),d.label=1;case 1:return d.trys.push([1,3,,4]),s=ts.getInstance(),u=oe(),c={waitForSubwindowResult:!0},_()&&u&&re(u,"10.11.0")<0&&(c.waitForSubwindowResult=!1),[4,s.init({messages:n,isMultiple:i,referrer:{liffId:o,url:location.origin},options:c})];case 2:return[2,d.sent()];case 3:throw(l=d.sent())instanceof kn?l:f(gt,l.message);case 4:return[2]}})})},this.checkPermission=function(){if(we())throw f(Q,"The operation is not allowed in the SubWindow");var n=((J()||{}).availability||{}).shareTargetPicker||{},r=n.permission,i=n.minVer;if(!r)throw _()?f(Q,"Need LINE App "+i+" at least or consent on shareTargetPicker usage on LINE developer site"):f(Q,"Need consent on shareTargetPicker usage on LINE developer site")}}return e.prototype.install=function(){return this.shareTargetPicker},e}(),ns=new Rr,rs=Object.freeze(Object.defineProperty({__proto__:null,ShareTargetPickerModule:Rr,module:ns},Symbol.toStringTag,{value:"Module"})),is=T(rs);(function(e,t){(function(n,r){e.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var a=r[o]={i:o,l:!1,exports:{}};return n[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.d=function(o,a,s){i.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:s})},i.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,a){if(1&a&&(o=i(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var u in o)i.d(s,u,function(c){return o[c]}.bind(null,u));return s},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="https://static.line-scdn.net/liff/edge/2/",i(i.s=0)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.liff=void 0,i(1),i(2);var o=i(3).default;r.liff=o,r.default=o},function(n,r){n.exports=fi},function(n,r){n.exports=mi},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),a=i(5),s=i(6),u=i(7),c=i(8),l=i(9),d=i(10),g=i(11),v=i(12),m=i(13),w=i(14),b=i(15),C=i(16),E=i(17),X=i(18),de=i(19),te=i(20),ne=i(21),he=i(22),ae=i(23),at=i(24),Be=i(25),Ue=i(26),We=i(27),qe=i(28),Br=i(29),He=Object.defineProperties({},{getOS:{value:l.getOS,enumerable:!0,writable:!0},getVersion:{value:d.getVersion,enumerable:!0,writable:!0},getLanguage:{value:g.getLanguage,enumerable:!0,writable:!0},isInClient:{value:u.isInClient,enumerable:!0,writable:!0},isLoggedIn:{value:m.isLoggedIn,enumerable:!0,writable:!0},logout:{value:w.logout,enumerable:!0,writable:!0},getAccessToken:{value:s.getAccessToken,enumerable:!0,writable:!0},getIDToken:{value:s.getIDToken,enumerable:!0,writable:!0},getDecodedIDToken:{value:s.getDecodedIDToken,enumerable:!0,writable:!0},getContext:{value:s.getContext,enumerable:!0,writable:!0},openWindow:{value:X.openWindow,enumerable:!0,writable:!0},closeWindow:{value:de.closeWindow,enumerable:!0,writable:!0},getFriendship:{value:qe.attachChecker(ne.getFriendship,"profile"),enumerable:!0,writable:!0},getAId:{value:s.getAId,enumerable:!0,writable:!0},getProfilePlus:{value:s.getProfilePlus,enumerable:!0,writable:!0},getIsVideoAutoPlay:{value:s.getIsVideoAutoPlay,enumerable:!0,writable:!0},getLineVersion:{value:C.getLineVersion,enumerable:!0,writable:!0},isApiAvailable:{value:E.isApiAvailable,enumerable:!0,writable:!0},getProfile:{value:qe.attachChecker(v.getProfile,"profile"),enumerable:!0,writable:!0},sendMessages:{value:qe.attachChecker(te.sendMessages,"chat_message.write"),enumerable:!0,writable:!0},subWindow:{value:he.subWindow,enumerable:!0,writable:!0},ready:{value:c.ready,enumerable:!0,writable:!0},id:{get:function(){return s.getConfig().liffId||null},enumerable:!0},_dispatchEvent:{value:b.dispatch,enumerable:!0,writable:!0},_call:{value:b.call,enumerable:!0,writable:!0},_addListener:{value:b.addListener,enumerable:!0,writable:!0},_removeListener:{value:b.removeListener,enumerable:!0,writable:!0},_postMessage:{value:b.postMessage,enumerable:!0,writable:!0}}),Ve=new ae.ModuleDriverImpl,Ur=new ae.ModuleContextImpl(Ve,He),Wr=new ae.UseModule(Ve,Ur,{namespacePrefix:""}).install(),qr=new ae.LiffPluginContextImpl(Ve,He);[new ae.UseModule(Ve,qr),new a.LoginModule,new o.InitModule,new at.AnalyticsModule,We.module,Be.module,Ue.module,qe.module,Br.module].forEach(function(Hr){Wr.call(He,Hr)}),r.default=He},function(n,r){n.exports=Ho},function(n,r){n.exports=Jo},function(n,r){n.exports=Xo},function(n,r){n.exports=Qo},function(n,r){n.exports=Yo},function(n,r){n.exports=Zo},function(n,r){n.exports=ea},function(n,r){n.exports=ra},function(n,r){n.exports=oa},function(n,r){n.exports=aa},function(n,r){n.exports=sa},function(n,r){n.exports=ua},function(n,r){n.exports=ca},function(n,r){n.exports=la},function(n,r){n.exports=pa},function(n,r){n.exports=va},function(n,r){n.exports=wa},function(n,r){n.exports=Ia},function(n,r){n.exports=Sa},function(n,r){n.exports=Pa},function(n,r){n.exports=ja},function(n,r){n.exports=Da},function(n,r){n.exports=Ra},function(n,r){n.exports=Ha},function(n,r){n.exports=Qa},function(n,r){n.exports=is}]).default})})(wn);var q=Yr(wn.exports);window.loadCatatan=Ct;window.editData=zr;window.lihatData=Gr;window.simpanData=Kr;window.simpanEditData=Jr;window.hapusData=Xr;window.gantiMenu=De;window.onload=function(){const e="1657163899-2djQL9WB";let t="";t=e,os(t)};function os(e){e?as(e):(document.getElementById("liffAppContent").classList.add("hidden"),document.getElementById("liffIdErrorMessage").classList.remove("hidden"))}function as(e){q.init({liffId:e}).then(()=>{ss()}).catch(t=>{document.getElementById("liffAppContent").classList.add("hidden"),document.getElementById("liffInitErrorMessage").classList.remove("hidden")})}function ss(){us(),cs(),ls(),q.isLoggedIn()?document.getElementById("liffLoginButton").disabled=!0:document.getElementById("liffLogoutButton").disabled=!0}function us(){document.getElementById("isInClient").textContent=q.isInClient(),document.getElementById("isLoggedIn").textContent=q.isLoggedIn()}function cs(){q.isInClient()?(document.getElementById("liffLoginButton").classList.toggle("hidden"),document.getElementById("liffLogoutButton").classList.toggle("hidden"),document.getElementById("isInClientMessage").textContent="You are opening the app in the in-app browser of LINE."):document.getElementById("isInClientMessage").textContent="You are opening the app in an external browser."}function ls(){document.getElementById("openWindowButton").addEventListener("click",function(){q.openWindow({url:"https://belajarubic-latihan-liff-2.netlify.app/",external:!0})}),document.getElementById("closeWindowButton").addEventListener("click",function(){q.isInClient()?q.closeWindow():Fe()}),document.getElementById("liffLoginButton").addEventListener("click",function(){q.isLoggedIn()||q.login()}),document.getElementById("liffLogoutButton").addEventListener("click",function(){q.isLoggedIn()&&(q.logout(),window.location.reload())}),document.getElementById("sendMessageButton").addEventListener("click",function(){q.isInClient()?q.sendMessages([{type:"text",text:"Anda telah menggunakan fitur Send Message!"}]).then(function(){window.alert("Ini adalah pesan dari fitur Send Message")}).catch(function(e){window.alert("Error sending message: "+e)}):Fe()})}function Fe(){alert("This button is unavailable as LIFF is currently being opened in an external browser.")}
